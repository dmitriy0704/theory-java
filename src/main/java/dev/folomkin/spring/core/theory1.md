# Конфигурирование и начальная загрузка в Spring

## Управление жизненным циклом компонентов Spring Beans

Важной особенностью любого контейнера инверсии управления, в том числе и в
Spring, является возможность построения компонентов таким образом, чтобы
получать уведомления в определенные моменты своего жизненного цикла. Это дает
компонентам возможность выполнять надлежащую обработку в такие моменты их
жизненного цикла. В общем, непосредственное отношение к компонентам имеют два
события, наступающие в течение жизненного цикла: после инициализации и перед
уничтожением компонентов.  
В контексте Spring событие после инициализации наступает в тот момент, когда
завершается установка всех значений свойств компонента Spring Bean и все
проверки зависимостей, сконфигурированные для выполнения. А событие перед
уничтожением наступает непосредственно перед тем, как Spring приступит к
уничтожению экземпляра компонента Spring Bean. В каркасе Spring предоставляются
три механизма, которые можно применять в компоненте Spring Bean для привязки к
каждому из этих событий и выполнения дополнительной обработки. Эти механизмы
основаны на интерфейсах, методах и аннотациях соответственно.  
В целом выбор механизма, который будет применяться для получения уведомлений в
течение жизненного цикла компонентов Spring Beans, зависит от требований к
конкретному приложению. Так, если вас заботит переносимость или вы просто
определяете один или два компонента Spring Beans заданного типа, где требуются
обратные вызовы, выберите механизм, основанный на методах. Если же вы
пользуетесь конфигурацией с аннотациями и уверены, что в целевом контейнере
инверсии управления поддерживается стандарт JSR-250, выберите механизм,
основанный на аннотациях. А если вы не слишком обеспокоены переносимостью или
определяете целый ряд однотипных компонентов Spring Beans, которым требуются
уведомления в течение их жизненного цикла, то, выбрав механизм, основанный на
интерфейсах, вы обеспечите наилучшим образом получение компонентами ожидаемых
уведомлений. И, наконец, если вы собираетесь применять какой-нибудь компонент
Spring Bean в самых разных проектах, то, скорее всего, стремитесь к тому,
чтобы функциональные возможности этого компонента были в наибольшей степени
самодостаточными. В таком случае вам определенно понадобится механизм,
основанный на интерфейсах.

### Создание компонентов Spring Beans

Если компонент Spring Bean информирован о том, когда он был инициализирован,
такой компонент может проверить, все ли требуемые зависимости удовлетворены.  
Несмотря на то что каркас Spring способен автоматически проверять зависимости,
он действует по принципу "все или ничего", не предоставляя никаких
возможностей для применения дополнительной логики в процедуре разрешения
зависимостей.

**_Получение экземпляров компонентов и внедрение зависимостей_**

1. Просмотр определений компонентов Spring Beans в ХМL-файлах, аннотированных и
   конфигурационных классах Java
2. Получение экземпляров компонентов Spring Beans
3. Внедрение зависимостей от компонентов Spring Beans(вызов методов установки,
   задание значений в автоматически привязываемых полях)

**_Проверка информированности компонентов Spring Beans_**

4. Если в данном типе компонентов Spring Beans реализуется интерфейс
   БeanNameAware, вызвать метод setВeanName()
5. Если в данном типе компонентов Spring Beans реализуется интерфейс
   BeanClassLoaderAware, вызвать метод setBeanClassLoader().
6. Если в данном типе компонентов Spriпg Beans реализуется интерфейс
   ApplicationContextAware, вызвать метод setApplicationContext()


   