
## Consumer Group (–≥—Ä—É–ø–ø–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π)

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! üß† –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º—Å—è —Å –æ–¥–Ω–∏–º –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–Ω—è—Ç–∏–π –≤ Kafka:

---

## üë• –ß—Ç–æ —Ç–∞–∫–æ–µ **Consumer Group**?

**Consumer Group** ‚Äî —ç—Ç–æ –≥—Ä—É–ø–ø–∞ **consumer-–æ–≤**, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–≤–º–µ—Å—Ç–Ω–æ —á–∏—Ç–∞—é—Ç –¥–∞–Ω–Ω—ã–µ
–∏–∑ **–æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ —Ç–æ–ø–∏–∫–∞**, **–¥–µ–ª—è –º–µ–∂–¥—É —Å–æ–±–æ–π –ø–∞—Ä—Ç–∏—Ü–∏–∏**.

> –≠—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è —á—Ç–µ–Ω–∏—è ‚Äî –∫–∞–∂–¥—ã–π consumer –≤ –≥—Ä—É–ø–ø–µ —á–∏—Ç–∞–µ—Ç **—Å–≤–æ—é
—á–∞—Å—Ç—å** –¥–∞–Ω–Ω—ã—Ö.

---

## üß© –ü—Ä–∏–º–µ—Ä:

–¢–æ–ø–∏–∫ `orders` –∏–º–µ–µ—Ç **4 –ø–∞—Ä—Ç–∏—Ü–∏–∏**:

```plaintext
Topic: orders
Partitions: [0, 1, 2, 3]
```

–ï—Å–ª–∏ —Ç—ã –∑–∞–ø—É—Å–∫–∞–µ—à—å **4 consumer'–∞ –≤ –æ–¥–Ω–æ–π –≥—Ä—É–ø–ø–µ** (
`group.id = order-consumers`), Kafka —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–∞—Ä—Ç–∏—Ü–∏–∏ —Ç–∞–∫:

| Consumer ID | –ß–∏—Ç–∞–µ—Ç –ø–∞—Ä—Ç–∏—Ü–∏–∏ |
|-------------|-----------------|
| C1          | 0               |
| C2          | 1               |
| C3          | 2               |
| C4          | 3               |

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

| –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å                            | –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç                                                                                    |
|----------------------------------------|---------------------------------------------------------------------------------------------------|
| üì¶ –ö–∞–∂–¥–∞—è –ø–∞—Ä—Ç–∏—Ü–∏—è ‚Äî –æ–¥–Ω–æ–º—É consumer'—É | –í —Ä–∞–º–∫–∞—Ö –≥—Ä—É–ø–ø—ã **–æ–¥–Ω–∞ –ø–∞—Ä—Ç–∏—Ü–∏—è** —á–∏—Ç–∞–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –æ–¥–Ω–∏–º consumer'–æ–º**                           |
| ‚öñ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ                      | –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å consumer'–æ–≤, —á—Ç–æ–±—ã —É—Å–∫–æ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É                                              |
| ‚ôª –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–±–∞–ª–∞–Ω—Å–∏–Ω–≥           | –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏/—É–¥–∞–ª–µ–Ω–∏–∏ consumer'–∞ Kafka **–ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç** –ø–∞—Ä—Ç–∏—Ü–∏–∏                             |
| üíæ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –æ—Ñ—Ñ—Å–µ—Ç                  | Kafka —Ö—Ä–∞–Ω–∏—Ç **offset** (–ø–æ–∑–∏—Ü–∏—é —á—Ç–µ–Ω–∏—è) –ø–æ –∫–∞–∂–¥–æ–π –ø–∞—Ä—Ç–∏—Ü–∏–∏ ‚Äî –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π consumer-–≥—Ä—É–ø–ø—ã |

---

## üîÅ –ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ–ª—å—à–µ consumer'–æ–≤, —á–µ–º –ø–∞—Ä—Ç–∏—Ü–∏–π?

–ù–∞–ø—Ä–∏–º–µ—Ä: 6 consumer'–æ–≤, 4 –ø–∞—Ä—Ç–∏—Ü–∏–∏ ‚Üí **2 consumer'–∞ –±—É–¥—É—Ç –ø—Ä–æ—Å—Ç–∞–∏–≤–∞—Ç—å**.

---

## üîê Consumer Group = –∏–∑–æ–ª—è—Ü–∏—è

–ï—Å–ª–∏ –¥–≤–∞ consumer'–∞ —á–∏—Ç–∞—é—Ç –∏–∑ –æ–¥–Ω–æ–≥–æ —Ç–æ–ø–∏–∫–∞, –Ω–æ —É –Ω–∏—Ö **—Ä–∞–∑–Ω—ã–µ group.id**, —Ç–æ *
*–æ–Ω–∏ –æ–±–∞ –ø–æ–ª—É—á–∞—Ç –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è** ‚Äî –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.

| Group ID | –ü–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è |
|----------|--------------------|
| group-A  | ‚úÖ                  |
| group-B  | ‚úÖ                  |

---

## üìú –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ groupId –≤ Spring Kafka:

```yaml
spring:
  kafka:
    consumer:
      group-id: my-consumer-group
```

–ò–ª–∏ —á–µ—Ä–µ–∑ `@KafkaListener`:

```java

@KafkaListener(topics = "orders", groupId = "order-group")
public void listen(String message) {
    ...
}
```

---

## üß™ –•–æ—á–µ—à—å:

- –¢–µ—Å—Ç —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ consumer'–∞–º–∏?
- –ü—Ä–∏–º–µ—Ä –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –ø–∞—Ä—Ç–∏—Ü–∏–π?
- –ò–ª–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é consumer group –≤ –¥–µ–π—Å—Ç–≤–∏–∏?

–ü–∏—à–∏ ‚Äî –ø–æ–∫–∞–∂—É üîç
