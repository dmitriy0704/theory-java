# Map

–í Java —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö **Map** –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏—é –ø–∞—Ä –∫–ª—é—á‚Äì–∑–Ω–∞—á–µ–Ω–∏–µ
(key‚Äìvalue), –≥–¥–µ:

* **–ö–ª—é—á–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã** ‚Äî –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–≤—É—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö.
* **–ó–Ω–∞—á–µ–Ω–∏—è –º–æ–≥—É—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è**.
* –ö–ª—é—á–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è **–ø–æ–∏—Å–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π –∑–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –∏–ª–∏ –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–æ–µ
  –≤—Ä–µ–º—è** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Map<K, V>`

–û–±—ä—è–≤–ª–µ–Ω–∏–µ:

```java
Map<String, Integer> map = new HashMap<>();
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `Map` –≤ Java:

| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è        | –û—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞          | –ü–æ—Ä—è–¥–æ–∫ –∫–ª—é—á–µ–π        | –í—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–π (get/put) | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏                                   |
|-------------------|----------------------|-----------------------|--------------------------|-----------------------------------------------|
| **HashMap**       | –•–µ—à-—Ç–∞–±–ª–∏—Ü–∞          | –ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è      | O(1) –≤ —Å—Ä–µ–¥–Ω–µ–º           | –ë—ã—Å—Ç—Ä–∞—è, –Ω–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–∞—è                      |
| **LinkedHashMap** | –•–µ—à-—Ç–∞–±–ª–∏—Ü–∞ + —Å–ø–∏—Å–æ–∫ | –ü–æ—Ä—è–¥–æ–∫ –≤—Å—Ç–∞–≤–∫–∏       | O(1)                     | –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫                             |
| **TreeMap**       | –ö—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ | –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ –∫–ª—é—á—É | O(log n)                 | –ö–ª—é—á–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å Comparable                  |
| **Hashtable**     | –•–µ—à-—Ç–∞–±–ª–∏—Ü–∞          | –ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è      | O(1), –Ω–æ —É—Å—Ç–∞—Ä–µ–≤—à–∞—è      | –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞, –∑–∞–º–µ–Ω–µ–Ω–∞ `ConcurrentHashMap` |

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã `Map`:

```java
void demo() {
    map.put("apple", 3);           // –¥–æ–±–∞–≤–∏—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å
    map.get("apple");              // –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
    map.containsKey("apple");      // –µ—Å—Ç—å –ª–∏ –∫–ª—é—á
    map.containsValue(3);          // –µ—Å—Ç—å –ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ
    map.remove("apple");           // —É–¥–∞–ª–∏—Ç—å
    map.keySet();                  // –≤—Å–µ –∫–ª—é—á–∏
    map.values();                  // –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è
    map.entrySet();                // –≤—Å–µ –ø–∞—Ä—ã –∫–ª—é—á‚Äì–∑–Ω–∞—á–µ–Ω–∏–µ
}
```

### –ü—Ä–∏–º–µ—Ä:

```java
void demo() {
    Map<String, Integer> scores = new HashMap<>();
    scores.put("Alice", 90);
    scores.put("Bob", 85);
    System.out.println(scores.get("Alice")); // 90
    System.out.println(scores.containsKey("Bob")); // true
}
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

* –í—Å–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `Map` –∏—Å–ø–æ–ª—å–∑—É—é—Ç **—Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º**:

    * `HashMap` ‚Äî –º–∞—Å—Å–∏–≤ + —Ü–µ–ø–æ—á–∫–∏ (–∏–ª–∏ –¥–µ—Ä–µ–≤—å—è —Å Java 8+)
    * `TreeMap` ‚Äî –±–∏–Ω–∞—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ (–∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–µ)
    * `LinkedHashMap` ‚Äî —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞ + –¥–≤—É—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫

## Map.Entry

**`Map.Entry<K, V>`** –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç **–æ–¥–Ω—É –ø–∞—Ä—É "–∫–ª—é—á‚Äì–∑–Ω–∞—á–µ–Ω–∏–µ"** –≤ –ª—é–±–æ–π
—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `Map`.

### –ß—Ç–æ —Ç–∞–∫–æ–µ `Map.Entry<K, V>`

–≠—Ç–æ **–≤–ª–æ–∂–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –≤–Ω—É—Ç—Ä–∏ `Map`, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –æ—Ç–¥–µ–ª—å–Ω–æ–π
–∑–∞–ø–∏—Å—å—é:

```java
public interface Map<K, V> {
    interface Entry<K, V> {
        K getKey();

        V getValue();

        V setValue(V value);

        boolean equals(Object o);

        int hashCode();
    }
}
```

### –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ `HashMap`

–í–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `HashMap`, –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç (`Entry`) –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å
–ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```java
static class Node<K, V> implements Map.Entry<K, V> {
    final int hash;
    final K key;
    V value;
    Node<K, V> next;

    Node(int hash, K key, V value, Node<K, V> next) {
        this.hash = hash;
        this.key = key;
        this.value = value;
        this.next = next;
    }

    public final K getKey() {
        return key;
    }

    public final V getValue() {
        return value;
    }

    public final V setValue(V newValue) {
        V oldValue = value;
        value = newValue;
        return oldValue;
    }

    public final int hashCode() {
        return Objects.hashCode(key) ^ Objects.hashCode(value);
    }

    public final boolean equals(Object o) {
        if (!(o instanceof Map.Entry))
            return false;
        Map.Entry<?, ?> e = (Map.Entry<?, ?>) o;
        return Objects.equals(key, e.getKey()) &&
                Objects.equals(value, e.getValue());
    }
}
```

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ `HashMap`:

* –ö–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ `HashMap` —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `Node<K,V>`, –∫–æ—Ç–æ—Ä–∞—è —Ä–µ–∞–ª–∏–∑—É–µ—Ç
  `Map.Entry<K,V>`.
* –≠—Ç–∏ —É–∑–ª—ã —Ñ–æ—Ä–º–∏—Ä—É—é—Ç —Ü–µ–ø–æ—á–∫—É (`next`) –≤ —Å–ª—É—á–∞–µ –∫–æ–ª–ª–∏–∑–∏–π ‚Äî –∫–∞–∫ —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫.
* –ú–µ—Ç–æ–¥—ã `entrySet()`, `keySet()`, `values()` –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–∏ `Entry`-–æ–±—ä–µ–∫—Ç—ã –¥–ª—è
  –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º.

### –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å `entrySet()`:

```java
void demo() {
    Map<String, Integer> map = new HashMap<>();
    map.put("A", 1);
    map.put("B", 2);
    for (Map.Entry<String, Integer> entry : map.entrySet()) {
        System.out.println(entry.getKey() + " -> " + entry.getValue());
    }
}


//-> –í—ã–≤–æ–¥:

//-> A -> 1
//-> B -> 2
```

---

## –¶–µ–ø–æ—á–∫–∞ —É–∑–ª–æ–≤ `Entry` –≤ –æ–¥–Ω–æ–º –±–∞–∫–µ—Ç–µ –ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏–∏

![map_entry.png](/img/map_entry.png)

–≠—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–ª—é—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ü–µ–ø–æ—á–∫—É –æ–±—ä–µ–∫—Ç–æ–≤ `Map.Entry` (–≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É,
–∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –≤ `HashMap`) –ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏–∏, –∫–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä –∫–ª—é—á‚Äì–∑–Ω–∞—á–µ–Ω–∏–µ
–Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–º –±–∞–∫–µ—Ç–µ.

### –ß—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–æ:

* **–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∏** –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —ç–ª–µ–º–µ–Ω—Ç—ã, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  `Map.Entry<K, V>`:

    * `A, 1`
    * `B, 2`
    * `C, 3`

* **–°—Ç—Ä–µ–ª–∫–∏** –º–µ–∂–¥—É –Ω–∏–º–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Å–≤—è–∑—å —á–µ—Ä–µ–∑ –ø–æ–ª–µ `next`, –æ–±—Ä–∞–∑—É—è
  **–æ–¥–Ω–æ—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫**:

    * `A,1 ‚Üí B,2 ‚Üí C,3 ‚Üí null`

* –≠—Ç–æ —Ü–µ–ø–æ—á–∫–∞ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –±–∞–∫–µ—Ç–∞ `HashMap`.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

* –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–π –ø–æ–ª—É—á–∞—é—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∏–Ω–¥–µ–∫—Å –ø–æ—Å–ª–µ `hash % capacity`,
  –æ–Ω–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ–¥–∏–Ω –±–∞–∫–µ—Ç.
* –û–Ω–∏ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤ —Ü–µ–ø–æ—á–∫—É –æ–±—ä–µ–∫—Ç–æ–≤ `Entry`, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `next`.
* –ü—Ä–∏ `put()` –∏ `get()` —Ö–µ—à-–∫–∞—Ä—Ç–∞ –ø—Ä–æ–±–µ–≥–∞–µ—Ç —ç—Ç—É —Ü–µ–ø–æ—á–∫—É, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–π
  –∫–ª—é—á.

--------------------------------------------------------------------------------

## HashMap

- –ü–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ, –±—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞: `O(1)` –≤ —Å—Ä–µ–¥–Ω–µ–º.

### **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ**

HashMap –≤ Java ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Map –∏
–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—É –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞—Ä "–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ". –û–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç
–±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º –ø–æ –∫–ª—é—á—É, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ—ë –æ–¥–Ω–æ–π –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö
—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π Map.

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ HashMap**

1. –ö–ª—é—á–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è: HashMap —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ –ø–∞—Ä "–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ". –ö–∞–∂–¥—ã–π
   –∫–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º, –Ω–æ –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–≥—É—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è.
2. –ù–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç—å: –≠–ª–µ–º–µ–Ω—Ç—ã –≤ HashMap –Ω–µ –∏–º–µ—é—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞. –ü–æ—Ä—è–¥–æ–∫
   –≤—Å—Ç–∞–≤–∫–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.
3. –î–æ–ø—É—Å–∫–∞–µ—Ç null: HashMap –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω null –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞ –∏
   –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ null –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–Ω–∞—á–µ–Ω–∏–π.
4. –ù–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω: HashMap –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º. –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ
   –ø–æ—Ç–æ–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω—è—é—Ç –µ–≥–æ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω—é—é
   —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç HashMap**

1. –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ<br>
   –ö–æ–≥–¥–∞ –≤—ã –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –ø–∞—Ä—É "–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ" –≤ HashMap, –∫–ª—é—á –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑
   —Ö–µ—à-—Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤—ã—á–∏—Å–ª—è–µ—Ç —Ö–µ—à-–∫–æ–¥ –¥–ª—è —ç—Ç–æ–≥–æ –∫–ª—é—á–∞. –•–µ—à-–∫–æ–¥ ‚Äî —ç—Ç–æ —Ü–µ–ª–æ–µ
   —á–∏—Å–ª–æ, –∫–æ—Ç–æ—Ä–æ–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞ (–∏–ª–∏ –±–∞–∫–µ—Ç–∞) –≤ –º–∞—Å—Å–∏–≤–µ
   (—Ö–µ—à-—Ç–∞–±–ª–∏—Ü–µ), –≥–¥–µ –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ.

```java
int hash = key.hashCode();
int index = hash % array.length; // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–Ω–¥–µ–∫—Å –≤ –º–∞—Å—Å–∏–≤–µ
```

2. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∫–µ—Ç–∞: –ï—Å–ª–∏ –ø–æ —ç—Ç–æ–º—É –∏–Ω–¥–µ–∫—Å—É –µ—â–µ –Ω–µ—Ç –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —Å–æ–∑–¥–∞–µ—Ç—Å—è
   –Ω–æ–≤—ã–π –±–∞–∫–µ—Ç. –í Java —ç—Ç–æ –æ–±—ã—á–Ω–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –∫–∞–∫ —Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–ª–∏ –¥–µ—Ä–µ–≤–æ.
3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤: –ï—Å–ª–∏ –ø–æ —ç—Ç–æ–º—É –∏–Ω–¥–µ–∫—Å—É —É–∂–µ –µ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã (–∏–∑-–∑–∞
   –∫–æ–ª–ª–∏–∑–∏–π), –Ω–æ–≤–∞—è –ø–∞—Ä–∞ "–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ" –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –±–∞–∫–µ—Ç. –í
   —Å–ª—É—á–∞–µ —Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–∞, –∞ –µ—Å–ª–∏
   –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –¥–µ—Ä–µ–≤–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Red-Black Tree), —Ç–æ —ç–ª–µ–º–µ–Ω—Ç
   –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –º–µ—Å—Ç–æ –¥–µ—Ä–µ–≤–∞.
4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–ª–ª–∏–∑–∏–π<br>
   –ö–æ–≥–¥–∞ –¥–≤–∞ –∫–ª—é—á–∞ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ö–µ—à-–∫–æ–¥ –∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∏–Ω–¥–µ–∫—Å
   –º–∞—Å—Å–∏–≤–∞, HashMap —Å–æ–∑–¥–∞–µ—Ç —Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ (–∏–ª–∏ –¥–µ—Ä–µ–≤–æ) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø–∞—Ä
   "–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ", –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å. HashMap –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ç–æ–¥
   —Ü–µ–ø–æ—á–µ–∫ (chaining) –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç—Ç–∏—Ö –∫–æ–ª–ª–∏–∑–∏–π. –í Java 8 –∏ –≤—ã—à–µ, –µ—Å–ª–∏
   –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Ü–µ–ø–æ—á–∫–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø–æ—Ä–æ–≥ (–æ–±—ã—á–Ω–æ 8),
   HashMap –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –¥–µ—Ä–µ–≤–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä,
   Red-Black Tree) –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
5. –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Å—Ç–∞<br>
   –ö–æ–≥–¥–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ HashMap –ø—Ä–µ–≤—ã—à–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø–æ—Ä–æ–≥ (–æ–±—ã—á–Ω–æ 75%
   –æ—Ç —Ç–µ–∫—É—â–µ–π –µ–º–∫–æ—Å—Ç–∏), –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –µ–º–∫–æ—Å—Ç–∏:
6. –í—Ä–µ–º—è –¥–æ—Å—Ç—É–ø–∞<br>
   –í —Å—Ä–µ–¥–Ω–µ–º –≤—Ä–µ–º—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º –ø–æ –∫–ª—é—á—É —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç O(1) –±–ª–∞–≥–æ–¥–∞—Ä—è
   –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è. –û–¥–Ω–∞–∫–æ –≤ —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—Å–µ
   —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ–¥–Ω—É —Ü–µ–ø–æ—á–∫—É) –≤—Ä–µ–º—è –¥–æ—Å—Ç—É–ø–∞ –º–æ–∂–µ—Ç —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å O(n). –ß—Ç–æ–±—ã
   –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ, –≤–∞–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å —Ä–∞–∑–º–µ—Ä –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –∏
   –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏.
7. –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –∫–ª—é—á—É —Å–Ω–∞—á–∞–ª–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –µ–≥–æ —Ö–µ—à-–∫–æ–¥. –ó–∞—Ç–µ–º
   –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å –º–∞—Å—Å–∏–≤–∞. –ï—Å–ª–∏ –ø–æ —ç—Ç–æ–º—É –∏–Ω–¥–µ–∫—Å—É –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   (–∏–∑-–∑–∞ –∫–æ–ª–ª–∏–∑–∏–π), HashMap –±—É–¥–µ—Ç –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –≤ —Å–≤—è–∑–∞–Ω–Ω–æ–º —Å–ø–∏—Å–∫–µ –∏–ª–∏
   –¥–µ—Ä–µ–≤–µ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ –Ω–∞–π–¥–µ—Ç –Ω—É–∂–Ω—ã–π –∫–ª—é—á.

**–ë–∞–∫–µ—Ç—ã**

–í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ HashMap –≤ Java "–±–∞–∫–µ—Ç—ã" (–∏–ª–∏ "–≤–µ–¥—Ä–∞") ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö,
–∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞—Ä "–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ". –ë–∞–∫–µ—Ç—ã –ø–æ–º–æ–≥–∞—é—Ç
–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ HashMap –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –Ω–∏–º. –î–∞–≤–∞–π—Ç–µ
—Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç.

**–ü—Ä–∏—á–∏–Ω—ã –ö–æ–ª–∏–∑–∏–π**

1. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω–¥–µ–∫—Å–æ–≤<br>
2. –•–µ—à-—Ñ—É–Ω–∫—Ü–∏—è<br>
3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –¥–ª–∏–Ω–∞ —Ö–µ—à–∞<br>
4. –°—Ö–æ–¥—Å—Ç–≤–æ –∫–ª—é—á–µ–π<br>

–ü—Ä–∏—á–∏–Ω—ã, –ø–æ—á–µ–º—É –¥–≤–∞ –∫–ª—é—á–∞ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ö–µ—à-–∫–æ–¥:<br>

1. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π**: –•–µ—à-—Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –æ–±—ä–µ–∫—Ç –≤
   —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ (—Ö–µ—à-–∫–æ–¥), –∏ –ø–æ—Å–∫–æ–ª—å–∫—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ
   –±–æ–ª—å—à–µ, —á–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª, —Ä–∞–∑–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å
   –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω—ã –≤ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
2. **–ê–ª–≥–æ—Ä–∏—Ç–º —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è**: –•–µ—à-—Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –∏–¥–µ–∞–ª—å–Ω—ã –∏ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–ª–ª–∏–∑–∏–∏.
   –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –¥–≤–∞ –æ–±—ä–µ–∫—Ç–∞ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ
   —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ —Ö–µ—à-–∫–æ–¥–∞, –æ–Ω–∏ –±—É–¥—É—Ç –∏–º–µ—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ö–µ—à-–∫–æ–¥.
3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–ª–∞—Å—Å—ã**: –ï—Å–ª–∏ –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å –∏
   –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç–µ –º–µ—Ç–æ–¥ `hashCode()`, –≤—ã –º–æ–∂–µ—Ç–µ —Å–ª—É—á–∞–π–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∫–æ–ª–ª–∏–∑–∏–∏, –µ—Å–ª–∏
   –Ω–µ –±—É–¥–µ—Ç–µ —É—á–∏—Ç—ã–≤–∞—Ç—å –≤—Å–µ –≤–∞–∂–Ω—ã–µ –ø–æ–ª—è –æ–±—ä–µ–∫—Ç–∞.

### –°–ª–æ–∂–Ω–æ—Å—Ç–∏ –º–µ—Ç–æ–¥–æ–≤

–í —Å—Ä–µ–¥–Ω–µ–º, –æ–ø–µ—Ä–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è, —É–¥–∞–ª–µ–Ω–∏—è –∏ –ø–æ–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ –∫–ª—é—á—É –≤ HashMap
–∏–º–µ—é—Ç –≤—Ä–µ–º–µ–Ω–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å O(1).

–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∑–Ω–∞—á–µ–Ω–∏—è (containsValue), –∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º - O(n).

–û–¥–Ω–∞–∫–æ, –≤ —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ, –∫–æ–≥–¥–∞ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤
–æ–¥–Ω—É –∫–æ—Ä–∑–∏–Ω—É, –æ–Ω–∏ –±—É–¥—É—Ç —Å–≤—è–∑–∞–Ω—ã –≤ —Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–ª–∏ –¥–µ—Ä–µ–≤–æ, –∏ –æ–ø–µ—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç
–∑–∞–Ω–∏–º–∞—Ç—å –≤—Ä–µ–º—è O(n), –≥–¥–µ n - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º,
—Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π –≤ HashMap –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–ª–ª–∏–∑–∏–π –∏ —Ö–µ—à-—Ñ—É–Ω–∫—Ü–∏–∏.<br>
–í —Å—Ä–µ–¥–Ω–µ–º, —Å–ª–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ —Ç–∞–∫–∂–µ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç O(1), –Ω–æ –≤ —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ
–º–æ–∂–µ—Ç –¥–æ—Å—Ç–∏–≥–∞—Ç—å O(n).

### –†—É—á–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Hashmap

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è **—É–ø—Ä–æ—â—ë–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ `HashMap` –≤—Ä—É—á–Ω—É—é** ‚Äî —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π
—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é:

* –ò—Å–ø–æ–ª—å–∑—É–µ–º **–º–∞—Å—Å–∏–≤ "–±–∞–∫–µ—Ç–æ–≤"** (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤)
* –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–ª–ª–∏–∑–∏–π ‚Äî —á–µ—Ä–µ–∑ **—Ü–µ–ø–æ—á–∫–∏ (—Å–≤—è–∑–Ω—ã–µ —Å–ø–∏—Å–∫–∏)**

_**–£–ø—Ä–æ—â—ë–Ω–Ω—ã–π `MyHashMap<K, V>` –Ω–∞ Java:**_

```java
import java.util.LinkedList;

public class MyHashMap<K, V> {
    private static final int SIZE = 16;

    private LinkedList<Entry<K, V>>[] buckets;

    public MyHashMap() {
        buckets = new LinkedList[SIZE];
        for (int i = 0; i < SIZE; i++) {
            buckets[i] = new LinkedList<>();
        }
    }

    private int getIndex(K key) {
        return Math.abs(key.hashCode() % SIZE);
    }

    public void put(K key, V value) {
        int index = getIndex(key);
        LinkedList<Entry<K, V>> bucket = buckets[index];

        for (Entry<K, V> entry : bucket) {
            if (entry.key.equals(key)) {
                entry.value = value; // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
                return;
            }
        }

        bucket.add(new Entry<>(key, value)); // –í—Å—Ç–∞–≤–∫–∞
    }

    public V get(K key) {
        int index = getIndex(key);
        LinkedList<Entry<K, V>> bucket = buckets[index];

        for (Entry<K, V> entry : bucket) {
            if (entry.key.equals(key)) {
                return entry.value;
            }
        }

        return null;
    }

    public boolean containsKey(K key) {
        return get(key) != null;
    }

    public void remove(K key) {
        int index = getIndex(key);
        buckets[index].removeIf(entry -> entry.key.equals(key));
    }

    private static class Entry<K, V> {
        K key;
        V value;

        Entry(K k, V v) {
            key = k;
            value = v;
        }
    }
}
```

_**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**_

```java
public class Main {
    public static void main(String[] args) {
        MyHashMap<String, Integer> map = new MyHashMap<>();
        map.put("apple", 10);
        map.put("banana", 20);
        map.put("apple", 30); // –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

        System.out.println(map.get("apple"));   // 30
        System.out.println(map.get("banana"));  // 20
        System.out.println(map.containsKey("pear")); // false

        map.remove("banana");
        System.out.println(map.get("banana"));  // null
    }
}
```

_**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**_

1. `hashCode()` ‚Üí –ø–æ–ª—É—á–∞–µ–º —Ö–µ—à –∫–ª—é—á–∞.
2. `index = hash % buckets.length` ‚Üí –≤—ã—á–∏—Å–ª—è–µ–º –∏–Ω–¥–µ–∫—Å –±–∞–∫–µ—Ç–∞.
3. –ö–∞–∂–¥—ã–π –±–∞–∫–µ—Ç ‚Äî —ç—Ç–æ —Å–ø–∏—Å–æ–∫ –ø–∞—Ä (–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–∏–µ).
4. –ü—Ä–∏ –∫–æ–ª–ª–∏–∑–∏–∏ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫ (—Ü–µ–ø–æ—á–∫—É).

### –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω `HashMap` —Å —Ü–µ–ø–æ—á–∫–∞–º–∏?

![hashmap-structure.png](/img/hashmap-structure.png)

–ù–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –ø–æ–∫–∞–∑–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö **HashMap —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º –∫–æ–ª–ª–∏–∑–∏–π —á–µ—Ä–µ–∑
—Ü–µ–ø–æ—á–∫–∏**:

_**–ë–∞–∫–µ—Ç—ã (Buckets)**_

* –°–ª–µ–≤–∞ —É–∫–∞–∑–∞–Ω—ã –∏–Ω–¥–µ–∫—Å—ã: `0`, `1`, `2`, `3`, `4` ‚Äî —ç—Ç–æ —è—á–µ–π–∫–∏ –º–∞—Å—Å–∏–≤–∞ (—Ä–∞–∑–º–µ—Ä
  —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã = 5).
* –ö–∞–∂–¥–∞—è —è—á–µ–π–∫–∞ ‚Äî **–±–∞–∫–µ—Ç**, –∫—É–¥–∞ –º–æ–∂–µ—Ç –ø–æ–ø–∞—Å—Ç—å –∫–ª—é—á –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –µ–≥–æ
  `hashCode()`.

_**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –±–∞–∫–µ—Ç–æ–≤:**_

* **Bucket 0**: –ø—É—Å—Ç–æ–π ‚Üí `null`
* **Bucket 1**: —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ (–∫–æ–ª–ª–∏–∑–∏—è):

    * `A, 2`
    * `B, 2`
    * –û–Ω–∏ —Å–≤—è–∑–∞–Ω—ã –≤ **—Ü–µ–ø–æ—á–∫—É** (—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫)
* **Bucket 2**: `C, 3`
* **Bucket 3**: –∫–æ–ª–ª–∏–∑–∏—è:

    * `D, 4`
    * `E, 5`
* **Bucket 4**: –ø—É—Å—Ç–æ–π ‚Üí `null`

_**–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–ª–ª–∏–∑–∏–π**_

–ï—Å–ª–∏ –¥–≤–∞ –∫–ª—é—á–∞ –¥–∞—é—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∏–Ω–¥–µ–∫—Å (–∏–∑-–∑–∞ `hash % size`), –æ–Ω–∏ –ø–æ–º–µ—â–∞—é—Ç—Å—è –≤
**–æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –±–∞–∫–µ—Ç** ‚Äî –æ–±—Ä–∞–∑—É—è **—Ü–µ–ø–æ—á–∫—É** (–æ–±—ã—á–Ω–æ —Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–ª–∏ –¥–µ—Ä–µ–≤–æ
–≤ Java 8+ –ø—Ä–∏ –±–æ–ª—å—à–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ).

_**–ß—Ç–æ —ç—Ç–æ –∏–ª–ª—é—Å—Ç—Ä–∏—Ä—É–µ—Ç:**_

* HashMap ‚Äî —ç—Ç–æ –º–∞—Å—Å–∏–≤ —Å–ø–∏—Å–∫–æ–≤.
* –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –±–∞–∫–µ—Ç –ø–æ —Ö–µ—à—É.
* –ö–æ–ª–ª–∏–∑–∏–∏ –Ω–µ –∑–∞–º–µ–Ω—è—é—Ç –¥–∞–Ω–Ω—ã–µ, –∞ –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è—é—Ç –µ—â—ë –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç –≤ —Ü–µ–ø–æ—á–∫—É.

### –ö–∞–∫ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏–∏ –ø–æ —à–∞–≥–∞–º

–ö–∞–∫ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç –≤ `HashMap`, –∫–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–∫–æ–ª–ª–∏–∑–∏—è** ‚Äî —Ç–æ –µ—Å—Ç—å –¥–≤–∞
–∫–ª—é—á–∞ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –±–∞–∫–µ—Ç.

_**–ò—Å—Ö–æ–¥–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:**_

* –†–∞–∑–º–µ—Ä —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã: `5`
* –ò–º–µ–µ–º –±–∞–∫–µ—Ç—ã: `[0, 1, 2, 3, 4]`
* –£–∂–µ –ª–µ–∂–∏—Ç:

```
Bucket[1]: [ ("A", 2) ]
```

#### –í—Å—Ç–∞–≤–∏–º –∫–ª—é—á `"B"` —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `2`

1. –í—ã—á–∏—Å–ª—è–µ–º —Ö–µ—à:

   ```java
   int hash = "B".hashCode();
   ```
2. –ò–Ω–¥–µ–∫—Å –±–∞–∫–µ—Ç–∞:

   ```java
   int index = hash % 5; // –¥–æ–ø—É—Å—Ç–∏–º, —Å–Ω–æ–≤–∞ 1
   ```

#### –ö–æ–ª–ª–∏–∑–∏—è!

* –í `bucket[1]` —É–∂–µ –µ—Å—Ç—å `"A"`
* –ú—ã –∏—â–µ–º `"B"` –≤ —Å–ø–∏—Å–∫–µ: –µ–≥–æ –Ω–µ—Ç
* –î–æ–±–∞–≤–ª—è–µ–º `"B"` –≤ –∫–æ–Ω–µ—Ü —Ü–µ–ø–æ—á–∫–∏

### –ü–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏:

```
Bucket[1]: [ ("A", 2) ‚Üí ("B", 2) ]
```

* –ë–∞–∫–µ—Ç —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Ü–µ–ø–æ—á–∫—É –∏–∑ –¥–≤—É—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
* –ü—Ä–∏ –ø–æ–∏—Å–∫–µ `get("B")`:

    * –ò–¥—ë–º –≤ `bucket[1]`
    * –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º —Ü–µ–ø–æ—á–∫—É
    * –ù–∞—Ö–æ–¥–∏–º `B` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º `2`

### –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ `put(K key, V value)` –ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏–∏:

1. –í—ã—á–∏—Å–ª—è–µ–º –∏–Ω–¥–µ–∫—Å –±–∞–∫–µ—Ç–∞.
2. –ò—â–µ–º –≤ —Å–ø–∏—Å–∫–µ –ø–æ –∫–ª—é—á—É:

    * –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω ‚Üí **–æ–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ**
    * –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Üí **–¥–æ–±–∞–≤–ª—è–µ–º –≤ –∫–æ–Ω–µ—Ü —Ü–µ–ø–æ—á–∫–∏**

_**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:**_

```java
public void put(K key, V value) {
    int index = Math.abs(key.hashCode() % SIZE);
    for (Entry<K, V> entry : buckets[index]) {
        if (entry.key.equals(key)) {
            entry.value = value; // –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
            return;
        }
    }
    buckets[index].add(new Entry<>(key, value)); // –≤—Å—Ç–∞–≤–∫–∞
}
```

--------------------------------------------------------------------------------

## TreeMap

- –ö–ª—é—á–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É –∏–ª–∏ `Comparator`.
- –û–ø–µ—Ä–∞—Ü–∏–∏ ‚Äî `O(log n)`

`TreeMap` ‚Äî –≠—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Java, –∫–æ—Ç–æ—Ä–∞—è —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Map` –∏
**—Ö—Ä–∞–Ω–∏—Ç –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ –≤ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –ø–æ –∫–ª—é—á–∞–º**. –í–Ω—É—Ç—Ä–∏ –æ–Ω
—É—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ **–∫—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ** (Red-Black Tree), —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏
`TreeSet`, —Ç–æ–ª—å–∫–æ –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è **–∫–ª—é—á –∏ —Å–≤—è–∑–∞–Ω–Ω–æ–µ —Å –Ω–∏–º
–∑–Ω–∞—á–µ–Ω–∏–µ**.

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ `TreeMap`

#### –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```java
public class TreeMap<K, V> extends AbstractMap<K, V>
        implements NavigableMap<K, V>, Cloneable, java.io.Serializable {

    private transient Entry<K, V> root;
    ...
}
```

- –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ `TreeMap` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ **–±–∏–Ω–∞—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –ø–æ–∏—Å–∫–∞** —Å
  –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–æ–π ‚Äî **–∫—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ**.
- –ö–∞–∂–¥—ã–π —É–∑–µ–ª –¥–µ—Ä–µ–≤–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç:
    - `K key`
    - `V value`
    - `Entry<K,V> left`, `right`, `parent`
    - `boolean color` (RED/BLACK)

`TreeMap<K, V>` –≤ Java ‚Äî —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `Map`, –∫–æ—Ç–æ—Ä–∞—è **—Ö—Ä–∞–Ω–∏—Ç
–ø–∞—Ä—ã –∫–ª—é—á‚Äì–∑–Ω–∞—á–µ–Ω–∏–µ –≤ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ**. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç `HashMap`,
`TreeMap` –æ—Å–Ω–æ–≤–∞–Ω –Ω–µ –Ω–∞ —Ö–µ—à–∞—Ö, –∞ –Ω–∞ **—Å–∞–º–æ–æ—Ä–≥–∞–Ω–∏–∑—É—é—â–µ–º—Å—è –¥–µ—Ä–µ–≤–µ** ‚Äî
**–∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–º –¥–µ—Ä–µ–≤–µ**.

### –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω `TreeMap`:

1. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **–∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–µ –±–∏–Ω–∞—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –ø–æ–∏—Å–∫–∞**:

    * –ö–∞–∂–¥—ã–π —É–∑–µ–ª –∏–º–µ–µ—Ç **–∫–ª—é—á**, **–∑–Ω–∞—á–µ–Ω–∏–µ**, **—Å—Å—ã–ª–∫–∏ –Ω–∞ –ª–µ–≤–æ–µ –∏ –ø—Ä–∞–≤–æ–µ
      –ø–æ–¥–¥–µ—Ä–µ–≤—å—è**, —Ü–≤–µ—Ç (`–∫—Ä–∞—Å–Ω—ã–π` –∏–ª–∏ `—á—ë—Ä–Ω—ã–π`), –∞ —Ç–∞–∫–∂–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—è.
    * –ö–ª—é—á–∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ **–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É (`Comparable`)** –∏–ª–∏ —á–µ—Ä–µ–∑
      **–ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π `Comparator`**.

2. –í—Å—Ç–∞–≤–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ –∏ –ø–æ–∏—Å–∫ ‚Äî —Ä–∞–±–æ—Ç–∞—é—Ç —Å–æ **—Å–ª–æ–∂–Ω–æ—Å—Ç—å—é O(log n)**.

### –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

```java
void demo() {
    TreeMap<Integer, String> map = new TreeMap<>();
    map.put(5, "apple");
    map.put(2, "banana");
    map.put(8, "cherry");
}
```

–í–Ω—É—Ç—Ä–µ–Ω–Ω–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ—Ä–µ–≤–∞ –±—É–¥–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–∞—è:

```
      5
     / \
    2   8
```

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ:

* `firstKey()` ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–ª—é—á
* `lastKey()` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∫–ª—é—á
* `higherKey(k)` ‚Äî —Å–ª–µ–¥—É—é—â–∏–π –±–æ–ª—å—à–µ –∫–ª—é—á
* `lowerKey(k)` ‚Äî –ø—Ä–µ–¥—ã–¥—É—â–∏–π –º–µ–Ω—å—à–µ –∫–ª—é—á
* `subMap(from, to)` ‚Äî –¥–∏–∞–ø–∞–∑–æ–Ω –∫–ª—é—á–µ–π

### –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

| –û–ø–µ—Ä–∞—Ü–∏—è     | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ                           |
|--------------|-----------|------------------------------------|
| `put(k, v)`  | O(log n)  | –≤—Å—Ç–∞–≤–∫–∞                            |
| `get(k)`     | O(log n)  | –ø–æ–∏—Å–∫                              |
| `remove(k)`  | O(log n)  | —É–¥–∞–ª–µ–Ω–∏–µ                           |
| `firstKey()` | O(log n)  | –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–ª—é—á                   |
| `lastKey()`  | O(log n)  | –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∫–ª—é—á                  |
| `entrySet()` | O(n)      | –≤—Å–µ –ø–∞—Ä—ã –≤ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ |

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `TreeMap`?

–ò—Å–ø–æ–ª—å–∑—É–π `TreeMap`, –µ—Å–ª–∏ —Ç–µ–±–µ –≤–∞–∂–Ω–æ:

* –•—Ä–∞–Ω–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –≤ **–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ**
* –î–µ–ª–∞—Ç—å **–ø–æ–∏—Å–∫ –±–ª–∏–∂–∞–π—à–∏—Ö –∫–ª—é—á–µ–π**, –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤
* –†–∞–±–æ—Ç–∞—Ç—å —Å –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏ (`subMap`, `headMap`, `tailMap`)

### –°—Ö–µ–º–∞, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω `TreeMap` –Ω–∞ —É—Ä–æ–≤–Ω–µ —É–∑–ª–æ–≤

![treemap-structure.png](/img/treemap-structure.png)

–ù–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ **–±–∏–Ω–∞—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –ø–æ–∏—Å–∫–∞ (BST)**, –∫–∞–∫ —ç—Ç–æ
—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `TreeMap` Java. –ö–∞–∂–¥—ã–π —É–∑–µ–ª —Å–æ–¥–µ—Ä–∂–∏—Ç:

* –õ–µ–≤—É—é —á–∞—Å—Ç—å ‚Äî **–∫–ª—é—á (key)**
* –ü—Ä–∞–≤—É—é —á–∞—Å—Ç—å ‚Äî **–∑–Ω–∞—á–µ–Ω–∏–µ (value)**

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ—Ä–µ–≤–∞:

```
        5:A
       /   \
    3:B     8:D
   /         /
 1:C       7:E
```

#### –ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:

* **–ö–æ—Ä–µ–Ω—å** –¥–µ—Ä–µ–≤–∞ ‚Äî —É–∑–µ–ª —Å –∫–ª—é—á–æ–º `5`, –∑–Ω–∞—á–µ–Ω–∏–µ–º `"A"`.
* –ö–ª—é—á–∏ **—Å–ª–µ–≤–∞** –æ—Ç –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ ‚Äî **–º–µ–Ω—å—à–µ** —Ç–µ–∫—É—â–µ–≥–æ –∫–ª—é—á–∞.
* –ö–ª—é—á–∏ **—Å–ø—Ä–∞–≤–∞** ‚Äî **–±–æ–ª—å—à–µ** —Ç–µ–∫—É—â–µ–≥–æ –∫–ª—é—á–∞.
* –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ—Ä–µ–≤–∞ **–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ –∫–ª—é—á–∞–º**.

#### –ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤ TreeMap:

* –û–ø–µ—Ä–∞—Ü–∏–∏ `put()`, `get()` –∏ `remove()` –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–µ—Ä–µ–≤–∞.
* –í—Å—Ç–∞–≤–∫–∞ –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –∫–ª—é—á–µ–π –∏ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å
  –¥–µ—Ä–µ–≤–∞ (—á–µ—Ä–µ–∑ –∞–ª–≥–æ—Ä–∏—Ç–º –∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ ‚Äî –Ω–µ –ø–æ–∫–∞–∑–∞–Ω —Ü–≤–µ—Ç–∞–º–∏ –∑–¥–µ—Å—å).
* –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–ª—é—á–∞ `6`, –æ–Ω –±—ã –ø–æ–ø–∞–ª **–º–µ–∂–¥—É** `5` –∏ `7`, –∫–∞–∫
  –ª–µ–≤—ã–π –ø–æ—Ç–æ–º–æ–∫ `7`.

### –¶–µ–ª—å: –≤—Å—Ç–∞–≤–∏—Ç—å –ø–∞—Ä—É `6:F` –≤ —Ç–µ–∫—É—â–µ–µ –¥–µ—Ä–µ–≤–æ

–¢–µ–∫—É—â–µ–µ –¥–µ—Ä–µ–≤–æ:

```
        5:A
       /   \
    3:B     8:D
   /         /
 1:C       7:E
```

#### –®–∞–≥–∏ –≤—Å—Ç–∞–≤–∫–∏ –∫–ª—é—á–∞ `6`:

1. **–°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å –∫–æ—Ä–Ω–µ–º** (`5`):

    * `6 > 5` ‚Üí –∏–¥—ë–º –≤–ø—Ä–∞–≤–æ –∫ `8`

2. **–°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å `8`**:

    * `6 < 8` ‚Üí –∏–¥—ë–º –≤–ª–µ–≤–æ –∫ `7`

3. **–°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å `7`**:

    * `6 < 7` ‚Üí –∏–¥—ë–º –≤–ª–µ–≤–æ
    * **—Å–ª–µ–≤–∞ –æ—Ç `7` ‚Äî –ø—É—Å—Ç–æ** ‚Üí –≤—Å—Ç–∞–≤–ª—è–µ–º —Å—é–¥–∞

## ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ –¥–µ—Ä–µ–≤–æ:

```
        5:A
       /   \
    3:B     8:D
   /         /
 1:C       7:E
          /
        6:F
```

### –ö–∞–∫ —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `TreeMap`:

`TreeMap` —Ä–µ–∞–ª–∏–∑—É–µ—Ç –≤—Å—Ç–∞–≤–∫—É —á–µ—Ä–µ–∑ **—Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –∏–ª–∏ –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥** —Å
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Comparator** (–µ—Å–ª–∏ –∑–∞–¥–∞–Ω) –∏–ª–∏ `Comparable` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é),
–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—è –ø—Ä–∏ —ç—Ç–æ–º **–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫—É** —á–µ—Ä–µ–∑ –∞–ª–≥–æ—Ä–∏—Ç–º **–∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞**
(–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–∫–∏–¥—ã–≤–∞–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤, –ø–æ–≤–æ—Ä–æ—Ç—ã).

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á—É (`get(6)`) –≤ —ç—Ç–æ–º –¥–µ—Ä–µ–≤–µ

–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `get(6)` –≤ `TreeMap`, –∏—Å–ø–æ–ª—å–∑—É—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –ø–æ–∏—Å–∫–∞,
–∫–æ—Ç–æ—Ä—É—é –º—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª–∏:

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ—Ä–µ–≤–∞:

```
        5:A
       /   \
    3:B     8:D
   /         /
 1:C       7:E
          /
        6:F
```

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `get(6)`:

1. **–ù–∞—á–∏–Ω–∞–µ–º —Å –∫–æ—Ä–Ω—è** (`5:A`):

    * `6 > 5` ‚Üí –∏–¥—ë–º –≤–ø—Ä–∞–≤–æ –∫ `8:D`

2. **–°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å `8:D`**:

    * `6 < 8` ‚Üí –∏–¥—ë–º –≤–ª–µ–≤–æ –∫ `7:E`

3. **–°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å `7:E`**:

    * `6 < 7` ‚Üí –∏–¥—ë–º –≤–ª–µ–≤–æ –∫ `6:F`

4. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å `6:F`**:

    * `6 == 6` ‚Üí –Ω–∞—à–ª–∏ –∫–ª—é—á! ‚úÖ

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:

* –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ `F`

#### –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å:

* –í —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –¥–µ—Ä–µ–≤–µ (–∫–∞–∫ —É `TreeMap`) –≥–ª—É–±–∏–Ω–∞ ‚âà `log‚ÇÇ(n)`
* –ü–æ—ç—Ç–æ–º—É `get()` —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞ **O(log n)**

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ (`remove(6)`) –∏–∑ —ç—Ç–æ–≥–æ –¥–µ—Ä–µ–≤–∞

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `remove(6)`** –≤ `TreeMap`, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–∞—à—É —Ç–µ–∫—É—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
–¥–µ—Ä–µ–≤–∞:

#### –ò—Å—Ö–æ–¥–Ω–æ–µ –¥–µ—Ä–µ–≤–æ:

```
        5:A
       /   \
    3:B     8:D
   /         /
 1:C       7:E
          /
        6:F
```

–ú—ã —Ö–æ—Ç–∏–º —É–¥–∞–ª–∏—Ç—å —É–∑–µ–ª —Å –∫–ª—é—á–æ–º `6`.

#### –®–∞–≥–∏ —É–¥–∞–ª–µ–Ω–∏—è:

1. üîç –ù–∞–π—Ç–∏ —É–∑–µ–ª `6`

* –ò–¥—ë–º: `5 ‚Üí 8 ‚Üí 7 ‚Üí 6`
* –ù–∞—à–ª–∏ —É–∑–µ–ª —Å –∫–ª—é—á–æ–º `6` –∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º `F`.

2. –¢–∏–ø —É–∑–ª–∞: **–ª–∏—Å—Ç** (–Ω–µ—Ç –¥–µ—Ç–µ–π)

* –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ–π —Å–ª—É—á–∞–π: —É–¥–∞–ª—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é.
* –°—Å—ã–ª–∫–∞ `left` —É —É–∑–ª–∞ `7` —Ç–µ–ø–µ—Ä—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `null`.

–û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ—Ä–µ–≤–∞:

```
        5:A
       /   \
    3:B     8:D
   /         /
 1:C       7:E
```

#### –û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ —É–¥–∞–ª–µ–Ω–∏—è –≤ TreeMap:

1. **–ï—Å–ª–∏ —É–∑–µ–ª ‚Äî –ª–∏—Å—Ç** ‚Üí –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª—è–µ—Ç—Å—è.
2. **–ï—Å–ª–∏ –æ–¥–∏–Ω —Ä–µ–±—ë–Ω–æ–∫** ‚Üí —É–∑–µ–ª –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ —Å–≤–æ–µ–≥–æ —Ä–µ–±—ë–Ω–∫–∞.
3. **–ï—Å–ª–∏ –¥–≤–∞ —Ä–µ–±—ë–Ω–∫–∞** ‚Üí –∏—â–µ—Ç—Å—è **–Ω–∞–∏–º–µ–Ω—å—à–∏–π —É–∑–µ–ª –≤ –ø—Ä–∞–≤–æ–º –ø–æ–¥–¥–µ—Ä–µ–≤–µ** (–∏–ª–∏
   –Ω–∞–∏–±–æ–ª—å—à–∏–π –≤ –ª–µ–≤–æ–º), –æ–Ω –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –Ω–∞–≤–µ—Ä—Ö, –∞ –∏—Å—Ö–æ–¥–Ω—ã–π —É–∑–µ–ª —É–¥–∞–ª—è–µ—Ç—Å—è.

TreeMap –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫—É** (—Ç.–∫. –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞
–∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–º –¥–µ—Ä–µ–≤–µ), –Ω–æ –ª–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ –∏ –∑–∞–º–µ–Ω—ã –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–∞–∫–æ–π –∂–µ.

---

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ TreeMap

1. **`put(K key, V value)`**

- –ö–ª—é—á —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∫–ª—é—á–∞–º–∏ —Å –ø–æ–º–æ—â—å—é `compareTo()` –∏–ª–∏
  `Comparator`.
- –ï—Å–ª–∏ —Ç–∞–∫–æ–π –∫–ª—é—á —É–∂–µ –µ—Å—Ç—å ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è.
- –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —É–∑–µ–ª –∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è.
- –ó–∞—Ç–µ–º –¥–µ—Ä–µ–≤–æ **–ø–µ—Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä—É–µ—Ç—Å—è** –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –∫—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞.

> –°–ª–æ–∂–Ω–æ—Å—Ç—å: **O(log n)**

2. **`get(K key)`**

- –ö–ª—é—á —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å –¥—Ä—É–≥–∏–º–∏ –≤ –¥–µ—Ä–µ–≤–µ.
- –ü–æ–∏—Å–∫ –∏–¥—ë—Ç –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –ø–æ–∏—Å–∫–∞ (–ª–µ–≤–æ <, –ø—Ä–∞–≤–æ >).
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å–≤—è–∑–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ `null`.

> –°–ª–æ–∂–Ω–æ—Å—Ç—å: **O(log n)**

3. **`remove(K key)`**

- –ö–ª—é—á –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–µ—Ä–µ–≤–µ, —É–¥–∞–ª—è–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —É–∑–µ–ª.
- –î–µ—Ä–µ–≤–æ **–ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∏ –ø–µ—Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä—É–µ—Ç—Å—è**.

> –°–ª–æ–∂–Ω–æ—Å—Ç—å: **O(log n)**

4. **–ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã (`NavigableMap`)**

TreeMap –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É–¥–æ–±–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

| –ú–µ—Ç–æ–¥            | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                   |
|------------------|------------------------------|
| `firstKey()`     | –ü–µ—Ä–≤—ã–π (–Ω–∞–∏–º–µ–Ω—å—à–∏–π) –∫–ª—é—á     |
| `lastKey()`      | –ü–æ—Å–ª–µ–¥–Ω–∏–π (–Ω–∞–∏–±–æ–ª—å—à–∏–π) –∫–ª—é—á  |
| `higherKey(k)`   | –°–ª–µ–¥—É—é—â–∏–π –∫–ª—é—á –ø–æ—Å–ª–µ `k`     |
| `lowerKey(k)`    | –ü—Ä–µ–¥—ã–¥—É—â–∏–π –∫–ª—é—á –¥–æ `k`       |
| `ceilingKey(k)`  | –ü–µ—Ä–≤—ã–π `‚â• k`                 |
| `floorKey(k)`    | –ü–æ—Å–ª–µ–¥–Ω–∏–π `‚â§ k`              |
| `subMap(k1, k2)` | –ü–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ—Ç `k1` –¥–æ `k2` |

–í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π

| –û–ø–µ—Ä–∞—Ü–∏—è                  | –°–ª–æ–∂–Ω–æ—Å—Ç—å    |
|---------------------------|--------------|
| `get()`                   | **O(log n)** |
| `put()`                   | **O(log n)** |
| `remove()`                | **O(log n)** |
| `firstKey()`, `lastKey()` | **O(log n)** |
| `iterator()` (–ø–æ –∫–ª—é—á–∞–º)  | **O(n)**     |

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```java
import java.util.*;

public class Main {
    public static void main(String[] args) {
        TreeMap<String, Integer> scores = new TreeMap<>();

        scores.put("Alice", 90);
        scores.put("Bob", 85);
        scores.put("Charlie", 92);

        System.out.println(scores); // {Alice=90, Bob=85, Charlie=92}
        System.out.println("Bob's score: " + scores.get("Bob")); // 85

        System.out.println("First key: " + scores.firstKey()); // Alice
        System.out.println("Next after Bob: " + scores.higherKey("Bob")); // Charlie

        scores.remove("Alice");
        System.out.println(scores); // {Bob=85, Charlie=92}
    }
}
```

### `TreeMap` vs `HashMap`

| –ö—Ä–∏—Ç–µ—Ä–∏–π             | `HashMap`        | `TreeMap`                            |
|----------------------|------------------|--------------------------------------|
| –ü–æ—Ä—è–¥–æ–∫              | –ù–µ—Ç              | –°–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ –∫–ª—é—á–∞–º                  |
| –°–ª–æ–∂–Ω–æ—Å—Ç—å `get()`    | O(1) (–≤ —Å—Ä–µ–¥–Ω–µ–º) | O(log n)                             |
| –°–ª–æ–∂–Ω–æ—Å—Ç—å `put()`    | O(1)             | O(log n)                             |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ | ‚ùå                | ‚úÖ `subMap()`, `ceilingKey()` –∏ —Ç. –¥. |
| Null-–∫–ª—é—á–∏           | ‚úÖ (–æ–¥–∏–Ω)         | ‚ùå (–∏—Å–∫–ª—é—á–µ–Ω–∏–µ)                       |

### –í—ã–≤–æ–¥:

- `TreeMap` ‚Äî –≤—ã–±–æ—Ä, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ **–¥–µ—Ä–∂–∞—Ç—å –∫–ª—é—á–∏ –≤ –ø–æ—Ä—è–¥–∫–µ** –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å
  –ø–æ–∏—Å–∫, –Ω–∞–≤–∏–≥–∞—Ü–∏—é, –¥–∏–∞–ø–∞–∑–æ–Ω—ã.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **–∫—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ**: –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∑–∞ **O(log n)**.
- –ù–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç `null` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞, —Ç–∞–∫ –∫–∞–∫ `compareTo()`/`Comparator` –Ω–µ
  —Ä–∞–±–æ—Ç–∞—é—Ç —Å `null`.

### –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ (`put`)
- –ü–æ–∏—Å–∫ (`get`)
- –£–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç—å –ø–æ –∫–ª—é—á–∞–º (—á–µ—Ä–µ–∑ `Comparable`)
- –ü—Ä–æ—Å—Ç–æ–µ –±–∏–Ω–∞—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –ø–æ–∏—Å–∫–∞ (–±–µ–∑ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏)

> –≠—Ç–æ **—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî –±–µ–∑ –∫—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –∏
> –ø–µ—Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏, –Ω–æ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–æ—Ä—è–¥–∫–∞ –ø–æ –∫–ª—é—á–∞–º.

## üõ† –ü—Ä–∏–º–µ—Ä: `SimpleTreeMap<K, V>`

```java
public class SimpleTreeMap<K extends Comparable<K>, V> {

    private class Node {
        K key;
        V value;
        Node left, right;

        Node(K key, V value) {
            this.key = key;
            this.value = value;
        }
    }

    private Node root;

    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ
    public void put(K key, V value) {
        root = put(root, key, value);
    }

    private Node put(Node node, K key, V value) {
        if (node == null) return new Node(key, value);

        int cmp = key.compareTo(node.key);
        if (cmp < 0) node.left = put(node.left, key, value);
        else if (cmp > 0) node.right = put(node.right, key, value);
        else node.value = value; // –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å
        return node;
    }

    // –ü–æ–∏—Å–∫ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –∫–ª—é—á—É
    public V get(K key) {
        Node node = root;
        while (node != null) {
            int cmp = key.compareTo(node.key);
            if (cmp < 0) node = node.left;
            else if (cmp > 0) node = node.right;
            else return node.value;
        }
        return null;
    }

    // –í—ã–≤–æ–¥ –≤—Å–µ—Ö –∫–ª—é—á–µ–π –≤ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
    public void printInOrder() {
        printInOrder(root);
    }

    private void printInOrder(Node node) {
        if (node != null) {
            printInOrder(node.left);
            System.out.println(node.key + " = " + node.value);
            printInOrder(node.right);
        }
    }
}
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```java
public class Main {
    public static void main(String[] args) {
        SimpleTreeMap<String, Integer> map = new SimpleTreeMap<>();

        map.put("Charlie", 3);
        map.put("Alice", 1);
        map.put("Bob", 2);
        map.put("Bob", 22); // –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

        System.out.println("Bob's value: " + map.get("Bob")); // 22

        System.out.println("All entries:");
        map.printInOrder();  // –í—ã–≤–µ–¥–µ—Ç –≤ –ø–æ—Ä—è–¥–∫–µ: Alice, Bob, Charlie
    }
}
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —ç—Ç–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

| –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å             | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è                            |
|-------------------------|---------------------------------------|
| –£–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç—å         | ‚úÖ –ü–æ `Comparable<K>` (in-order –æ–±—Ö–æ–¥) |
| –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞            | ‚ùå –ù–µ—Ç (–º–æ–∂–µ—Ç –¥–µ–≥—Ä–∞–¥–∏—Ä–æ–≤–∞—Ç—å –¥–æ O(n))   |
| –í—Å—Ç–∞–≤–∫–∞, –ø–æ–∏—Å–∫          | O(h), –≥–¥–µ h ‚Äî –≤—ã—Å–æ—Ç–∞ –¥–µ—Ä–µ–≤–∞           |
| –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –¥—É–±–ª–∏–∫–∞—Ç–µ | –ó–Ω–∞—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (`put`)          |

--------------------------------------------------------------------------------

## LinkedHashMap

- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –≤—Å—Ç–∞–≤–∫–∏.

`LinkedHashMap` ‚Äî —ç—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è `HashMap` –≤ Java, –∫–æ—Ç–æ—Ä–∞—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç
**–ø–æ—Ä—è–¥–æ–∫ –≤—Å—Ç–∞–≤–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤** –∏–ª–∏ **–ø–æ—Ä—è–¥–æ–∫ –¥–æ—Å—Ç—É–ø–∞**. –û–Ω–∞ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç
**–±—ã—Å—Ç—Ä–æ—Ç—É `HashMap`** –∏ **–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ –æ–±—Ö–æ–¥–∞** –∫–∞–∫ –≤ —Å–ø–∏—Å–∫–µ.

### –ß—Ç–æ —Ç–∞–∫–æ–µ `LinkedHashMap`?

- –≠—Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `Map`, –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `HashMap`.
- –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ `HashMap`, `LinkedHashMap` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç **–ø–æ—Ä—è–¥–æ–∫
  –¥–æ–±–∞–≤–ª–µ–Ω–∏—è** (–∏–ª–∏ –ø–æ—Ä—è–¥–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –µ—Å–ª–∏ –∑–∞–¥–∞–Ω `accessOrder = true`).

### –ö–∞–∫ –æ–Ω —É—Å—Ç—Ä–æ–µ–Ω –≤–Ω—É—Ç—Ä–∏?

1. **–ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `HashMap`**

```java
public class LinkedHashMap<K, V> extends HashMap<K, V> implements Map<K, V> {
    ...
}
```

2. **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–≤—è–∑–∏: –¥–≤—É—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫**

–ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å (`Entry`) –≤ `HashMap` —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –¥–æ `LinkedHashMap.Entry`, –∏
—Å–æ–¥–µ—Ä–∂–∏—Ç —É–∫–∞–∑–∞—Ç–µ–ª–∏:

```java
static class Entry<K, V> extends HashMap.Node<K, V> {
    Entry<K, V> before, after; // –¥–ª—è —Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
}
```

- `before`: –ø—Ä–µ–¥—ã–¥—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç
- `after`: —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç

–≠—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç **–ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤**.

### –¢–∏–ø—ã –ø–æ—Ä—è–¥–∫–∞

–ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è `LinkedHashMap`, –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ:

```java
new LinkedHashMap<>(initialCapacity,loadFactor,accessOrder)
```

- `accessOrder = false` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ‚Üí **–ø–æ—Ä—è–¥–æ–∫ –≤—Å—Ç–∞–≤–∫–∏**
- `accessOrder = true` ‚Üí **–ø–æ—Ä—è–¥–æ–∫ –¥–æ—Å—Ç—É–ø–∞ (LRU-–ø–æ–¥–æ–±–Ω—ã–π)**

### –ü—Ä–∏–º–µ—Ä —Ä–∞–∑–ª–∏—á–∏–π:

#### `accessOrder = false` (–≤—Å—Ç–∞–≤–∫–∞)

```java
void demo() {

    LinkedHashMap<Integer, String> map = new LinkedHashMap<>();
    map.put(1, "A");
    map.put(2, "B");
    map.put(3, "C");
    System.out.println(map); // {1=A, 2=B, 3=C}
}

```

#### `accessOrder = true` (–¥–æ—Å—Ç—É–ø)

```java
void demo() {
    LinkedHashMap<Integer, String> map = new LinkedHashMap<>(16, 0.75f, true);
    map.put(1, "A");
    map.put(2, "B");
    map.put(3, "C");
    map.get(2); // –¥–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç—É 2
    System.out.println(map); // {1=A, 3=C, 2=B}
}

```

#### üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (LRU Cache)

–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å `LinkedHashMap`, –∫–æ—Ç–æ—Ä—ã–π —Å–∞–º —É–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:

```java
LinkedHashMap<Integer, String> lruCache = new LinkedHashMap<>(16, 0.75f, true) {
    protected boolean removeEldestEntry(Map.Entry<Integer, String> eldest) {
        return size() > 3; // –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ 3 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞
    }
};
```

–í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π

| –û–ø–µ—Ä–∞—Ü–∏—è               | –°–ª–æ–∂–Ω–æ—Å—Ç—å                            |
|------------------------|--------------------------------------|
| `put`, `get`, `remove` | **O(1)**                             |
| `iteration`            | **O(n)** (–≤ –ø–æ—Ä—è–¥–∫–µ –≤—Å—Ç–∞–≤–∫–∏/–¥–æ—Å—Ç—É–ø–∞) | 

_**–ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**_

```java
import java.util.*;

public class Main {
    public static void main(String[] args) {
        LinkedHashMap<String, Integer> map = new LinkedHashMap<>(16, 0.75f, true);

        map.put("A", 1);
        map.put("B", 2);
        map.put("C", 3);

        map.get("A"); // –¥–æ—Å—Ç—É–ø ‚Äî –º–µ–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫

        for (Map.Entry<String, Integer> entry : map.entrySet()) {
            System.out.println(entry.getKey() + " => " + entry.getValue());
        }
        // –í—ã–≤–µ–¥–µ—Ç: B => 2, C => 3, A => 1 (–ø–æ—Ä—è–¥–æ–∫ –ø–æ –¥–æ—Å—Ç—É–ø—É)
    }
}
```

_**–í—ã–≤–æ–¥**_

| –°–≤–æ–π—Å—Ç–≤–æ          | `HashMap`        | `LinkedHashMap`                 |
|-------------------|------------------|---------------------------------|
| –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ | ‚ùå                | ‚úÖ                               |
| –¢–∏–ø –ø–æ—Ä—è–¥–∫–∞       | –ù–µ—Ç              | –í—Å—Ç–∞–≤–∫–∞ –∏–ª–∏ –¥–æ—Å—Ç—É–ø              |
| –ë—ã—Å—Ç—Ä–æ–¥–µ–π—Å—Ç–≤–∏–µ    | O(1)             | O(1)                            |
| –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è  | –ë—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ | LRU –∫—ç—à–∏, –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ |

### –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

–ù–∏–∂–µ ‚Äî **—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `LinkedHashMap`**, –∫–æ—Ç–æ—Ä—É—é –º—ã –Ω–∞–∑–æ–≤—ë–º
`MiniLinkedHashMap`. –û–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç:

- **–≤—Å—Ç–∞–≤–∫—É –∫–ª—é—á–µ–π –≤ –ø–æ—Ä—è–¥–∫–µ** (–∫–∞–∫ –æ–±—ã—á–Ω—ã–π `LinkedHashMap`)
- –±—ã—Å—Ç—Ä—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ `get`, `put` –∑–∞ **O(1)** (–Ω–∞ –æ—Å–Ω–æ–≤–µ `HashMap`)
- –ø–æ—Ä—è–¥–æ–∫ –æ–±—Ö–æ–¥–∞ —Å –ø–æ–º–æ—â—å—é **–¥–≤—É—Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞**

#### `MiniLinkedHashMap<K, V>` (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

```java
import java.util.*;

public class MiniLinkedHashMap<K, V> {
    private class Node {
        K key;
        V value;
        Node prev, next;

        Node(K key, V value) {
            this.key = key;
            this.value = value;
        }
    }

    private final Map<K, Node> map = new HashMap<>();
    private Node head, tail;

    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞
    public void put(K key, V value) {
        if (map.containsKey(key)) {
            Node node = map.get(key);
            node.value = value;
            return;
        }

        Node newNode = new Node(key, value);
        map.put(key, newNode);
        appendToTail(newNode);
    }

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –∫–ª—é—á—É
    public V get(K key) {
        Node node = map.get(key);
        return node != null ? node.value : null;
    }

    // –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É
    public void remove(K key) {
        Node node = map.remove(key);
        if (node != null) removeNode(node);
    }

    // –ü–µ—á–∞—Ç—å –≤—Å–µ—Ö –ø–∞—Ä –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ø–æ—Ä—è–¥–∫–µ –≤—Å—Ç–∞–≤–∫–∏
    public void printInOrder() {
        Node current = head;
        while (current != null) {
            System.out.println(current.key + " = " + current.value);
            current = current.next;
        }
    }

    // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
    private void appendToTail(Node node) {
        if (tail != null) {
            tail.next = node;
            node.prev = tail;
            tail = node;
        } else {
            head = tail = node;
        }
    }

    private void removeNode(Node node) {
        if (node.prev != null) node.prev.next = node.next;
        else head = node.next;

        if (node.next != null) node.next.prev = node.prev;
        else tail = node.prev;
    }
}
```

#### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```java
public class Main {
    public static void main(String[] args) {
        MiniLinkedHashMap<String, Integer> map = new MiniLinkedHashMap<>();

        map.put("A", 1);
        map.put("B", 2);
        map.put("C", 3);

        map.put("B", 22); // –æ–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ

        System.out.println("B = " + map.get("B")); // 22

        map.remove("A");

        System.out.println("Map entries in insertion order:");
        map.printInOrder();  // –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: B = 22, C = 3
    }
}
```

#### –ß—Ç–æ —ç—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:

| –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å           | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ?               |
|-----------------------|----------------------------|
| –°–ª–æ–∂–Ω–æ—Å—Ç—å `get/put`   | ‚úÖ O(1)                     |
| –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞    | ‚úÖ –í—Å—Ç–∞–≤–∫–∞                  |
| –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞     | ‚úÖ O(1)                     |
| `accessOrder`         | ‚ùå (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å)         |
| `removeEldestEntry()` | ‚ùå (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–ª—è LRU) |

