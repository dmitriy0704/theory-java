# –û—á–µ—Ä–µ–¥–∏

## - `Queue` –∏ `Deque`

- `LinkedList`, `ArrayDeque` ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
- FIFO (–æ—á–µ—Ä–µ–¥—å), LIFO (—Å—Ç–µ–∫).
- –ü—Ä–∏–º–µ—Ä—ã: `offer()`, `poll()`, `peek()`, `push()`, `pop()`

–û—á–µ—Ä–µ–¥–∏ –≤ Java ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–µ **–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Queue`**,
–∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **–ø–µ—Ä–≤—ã–π –≤–æ—à—ë–ª ‚Äî –ø–µ—Ä–≤—ã–π –≤—ã—à–µ–ª (FIFO)** —Å–ø–æ—Å–æ–±
–æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤. Java –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –æ—á–µ—Ä–µ–¥–µ–π, –∫–∞–∂–¥–∞—è —Å
—Ä–∞–∑–Ω—ã–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º.

---

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: `Queue<E>`

```java
public interface Queue<E> extends Collection<E>
```

–≠—Ç–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥—ã:

| –ú–µ—Ç–æ–¥       | –û–ø–∏—Å–∞–Ω–∏–µ                                                                        |
|-------------|---------------------------------------------------------------------------------|
| `offer(e)`  | –î–æ–±–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –≤ –∫–æ–Ω–µ—Ü –æ—á–µ—Ä–µ–¥–∏ (false, –µ—Å–ª–∏ –Ω–µ—Ç –º–µ—Å—Ç–∞)                       |
| `add(e)`    | –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç (–º–æ–∂–µ—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ)                                   |
| `poll()`    | –£–¥–∞–ª—è–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç (–∏–ª–∏ null)                                  |
| `remove()`  | –£–¥–∞–ª—è–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤—ã–π, –±—Ä–æ—Å–∞–µ—Ç NoSuchElementException, –µ—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞ |
| `peek()`    | –ö–∞–∫ peek(), –Ω–æ –±—Ä–æ—Å–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –µ—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞                           |
| `element()` | –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –≥–æ–ª–æ–≤—É (–∏–ª–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ)                                           |

---

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Deque

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Deque —Ä–∞—Å—à–∏—Ä—è–µ—Ç –≤—ã—à–µ–æ–ø–∏—Å–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Queue –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ
–¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω–∞—è –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å,
–ª–∏–±–æ –∫–∞–∫ —Å—Ç–µ–∫, –¥–µ–π—Å—Ç–≤—É—é—â–∏–π –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É LIFO (–ø–æ—Å–ª–µ–¥–Ω–∏–π –≤–æ—à–µ–ª - –ø–µ—Ä–≤—ã–π –≤—ã—à–µ–ª).


---

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—á–µ—Ä–µ–¥–µ–π

### 1. **`LinkedList` –∫–∞–∫ `Queue`**

- –î–≤—É—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫.
- –†–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã `List`, `Deque`, `Queue`.
- FIFO –∏–ª–∏ –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –æ—á–µ—Ä–µ–¥—å (Deque).
- –ù–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞.

–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: —ç–ª–µ–º–µ–Ω—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —É–∑–ª–∞—Ö, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö `next` –∏ `prev`.

```java
void demo() {
    Queue<String> queue = new LinkedList<>();
    queue.offer("A");
    queue.offer("B");
    System.out.println(queue.poll()); // A

}
```

### 2. **`ArrayDeque`**

ArrayDeque –≤ Java ‚Äî —ç—Ç–æ –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –æ—á–µ—Ä–µ–¥—å, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–º
–∫–æ–ª—å—Ü–µ–≤–æ–º –º–∞—Å—Å–∏–≤–µ. –û–Ω–∞ –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–∞—è –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ Stack, Queue,
LinkedList –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è —Å –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω.

**–°–≤–æ–π—Å—Ç–≤–∞:**

- –ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—á–µ—Ä–µ–¥–∏ –∏ —Å—Ç–µ–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞—Å—Å–∏–≤–∞.
- –ë–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞, —á–µ–º `LinkedList`.
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Å –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω (`Deque`).

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ `ArrayDeque`**

–í–Ω—É—Ç—Ä–∏ –æ–Ω–∞ —É—Å—Ç—Ä–æ–µ–Ω–∞ —Ç–∞–∫:

```java
Object[] elements; // –º–∞—Å—Å–∏–≤, –≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã
int head;          // –∏–Ω–¥–µ–∫—Å –Ω–∞—á–∞–ª–∞ (–≥–¥–µ —á–∏—Ç–∞–µ–º)
int tail;          // –∏–Ω–¥–µ–∫—Å –∫–æ–Ω—Ü–∞ (–≥–¥–µ –ø–∏—à–µ–º)
```

#### –ö–æ–ª—å—Ü–µ–≤–æ–π –±—É—Ñ–µ—Ä

* –ú–∞—Å—Å–∏–≤ **–Ω–µ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è** –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ‚Äî `head` –∏ `tail`
  **–¥–≤–∏–≥–∞—é—Ç—Å—è –ø–æ –∫—Ä—É–≥—É**.
* –ö–æ–≥–¥–∞ `tail` –¥–æ—Ö–æ–¥–∏—Ç –¥–æ –∫–æ–Ω—Ü–∞ –º–∞—Å—Å–∏–≤–∞, –æ–Ω **–æ–±–Ω—É–ª—è–µ—Ç—Å—è (0)** ‚Äî –∏ —Å–Ω–æ–≤–∞
  –Ω–∞—á–∏–Ω–∞–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å –º–∞—Å—Å–∏–≤ —Å –Ω–∞—á–∞–ª–∞.

–ö–æ–ª—å—Ü–µ–≤–æ–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤ (–∏–ª–∏ –∫–æ–ª—å—Ü–µ–≤–æ–π –±—É—Ñ–µ—Ä, circular buffer) ‚Äî —ç—Ç–æ
—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –æ–±—ã—á–Ω–æ–º –º–∞—Å—Å–∏–≤–µ, –Ω–æ —Å –æ—Å–æ–±–æ–π –ª–æ–≥–∏–∫–æ–π,
–ø–æ–∑–≤–æ–ª—è—é—â–µ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –∫–∞–∫ —Ü–∏–∫–ª. –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤
—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö –æ—á–µ—Ä–µ–¥–µ–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ ArrayDeque.

**–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è**

- –ö–æ–≥–¥–∞ –∫–æ–Ω–µ—Ü –º–∞—Å—Å–∏–≤–∞ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è, —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –Ω–∞—á–∞–ª–æ
  –º–∞—Å—Å–∏–≤–∞, –µ—Å–ª–∏ —Ç–∞–º –µ—Å—Ç—å –º–µ—Å—Ç–æ.
- –ò–Ω–¥–µ–∫—Å—ã head –∏ tail –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç, –æ—Ç–∫—É–¥–∞ —á–∏—Ç–∞—Ç—å –∏ –∫—É–¥–∞ –ø–∏—Å–∞—Ç—å.
- –õ–æ–≥–∏–∫–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ —Ç–∞–∫, –±—É–¥—Ç–æ –º–∞—Å—Å–∏–≤ ‚Äî —ç—Ç–æ –∫–æ–ª—å—Ü–æ: –∫–æ–Ω–µ—Ü —Å–æ–µ–¥–∏–Ω—ë–Ω —Å –Ω–∞—á–∞–ª–æ–º.

**–ü—Ä–∏–º–µ—Ä (—Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ 5):**

```
[ A ][ B ][ C ][ - ][ - ]
   ‚Üë             ‚Üë
 head           tail
```

* `poll()` (—á—Ç–µ–Ω–∏–µ) –±—É–¥–µ—Ç —Å –ø–æ–∑–∏—Ü–∏–∏ `head` (`A`)
* `offer(X)` (–∑–∞–ø–∏—Å—å) ‚Äî –≤ `tail` (`D`) ‚Üí `tail = (tail + 1) % capacity`

–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è `A` –∏ `B`, –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö:

```
[ X ][ Y ][ C ][ D ][ E ]
      ‚Üë            ‚Üë
    head         tail
```

**–ü–æ—á–µ–º—É **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π**?**

–ï—Å–ª–∏ –≤—Å–µ —è—á–µ–π–∫–∏ –∑–∞–Ω—è—Ç—ã –∏ —Ç—ã –¥–æ–±–∞–≤–ª—è–µ—à—å –µ—â—ë —ç–ª–µ–º–µ–Ω—Ç:

* —Å–æ–∑–¥–∞—ë—Ç—Å—è **–Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ –≤ 2 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ**,
* –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ–ø–∏—Ä—É—é—Ç—Å—è **–≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ** (–Ω–∞—á–∏–Ω–∞—è —Å `head`),
* `head` —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤ 0, `tail` ‚Äî –≤ `size`.

**–°–ª–æ–∂–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–π:**

| –û–ø–µ—Ä–∞—Ü–∏—è   | –°–ª–æ–∂–Ω–æ—Å—Ç—å                        |
|------------|----------------------------------|
| –í—Å—Ç–∞–≤–∫–∞    | `O(1)` (–∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)        |
| –£–¥–∞–ª–µ–Ω–∏–µ   | `O(1)`                           |
| –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ | `O(n)` ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏ |

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏—è:

* `ArrayDeque`, `ArrayBlockingQueue`
* –ü–æ—Ç–æ–∫–æ–≤—ã–µ –±—É—Ñ–µ—Ä—ã
* –ü—Ä–æ–¥—é—Å–µ—Ä/–∫–æ–Ω—Å—å—é–º–µ—Ä –æ—á–µ—Ä–µ–¥–∏
* –ê—É–¥–∏–æ/–≤–∏–¥–µ–æ –æ–±—Ä–∞–±–æ—Ç–∫–∞

#### –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

```java
void() {
    ArrayDeque<String> deque = new ArrayDeque<>();
    deque.addLast("A"); // tail = 0
    deque.addLast("B"); // tail = 1
    deque.addFirst("X"); // head = 15 (–µ—Å–ª–∏ capacity = 16)
}
```

#### –í–∏–∑—É–∞–ª—å–Ω–æ (capacity = 16):

```
[ X , A , B , null, null, ..., null ]
   ‚Üë     ‚Üë
 head   tail
```

#### –û–ø–µ—Ä–∞—Ü–∏–∏

| –û–ø–µ—Ä–∞—Ü–∏—è        | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                      | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|-----------------|---------------------------------|-----------|
| `addFirst(e)`   | –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç `e` –ø–µ—Ä–µ–¥ `head`     | O(1)      |
| `addLast(e)`    | –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç `e` –≤ `tail`         | O(1)      |
| `removeFirst()` | –£–¥–∞–ª—è–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `head`     | O(1)      |
| `removeLast()`  | –£–¥–∞–ª—è–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `tail - 1` | O(1)      |
| `peekFirst()`   | –°–º–æ—Ç—Ä–∏—Ç `head`, –Ω–µ —É–¥–∞–ª—è—è       | O(1)      |

#### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞

–ï—Å–ª–∏ `head == tail` –∏ –æ—á–µ—Ä–µ–¥—å –Ω–µ –ø—É—Å—Ç–∞, –∑–Ω–∞—á–∏—Ç –º–∞—Å—Å–∏–≤ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω:

1. –°–æ–∑–¥–∞—ë—Ç—Å—è **–º–∞—Å—Å–∏–≤ –≤ 2 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ**.
2. –≠–ª–µ–º–µ–Ω—Ç—ã **–∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤**, –Ω–∞—á–∏–Ω–∞—è —Å `head`.
3. `head` —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤ 0, `tail` ‚Äî –≤ `size`.

–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ–¥–∫–æ ‚Äî –ø–æ—ç—Ç–æ–º—É –∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—Å—Ç–∞–≤–∫–∞ –æ—Å—Ç–∞—ë—Ç—Å—è **O(1)**.

### –ü–æ—á–µ–º—É `ArrayDeque` –ª—É—á—à–µ `Stack` –∏ `LinkedList`:

* `Stack` —É—Å—Ç–∞—Ä–µ–ª, –º–µ–¥–ª–µ–Ω–Ω–µ–µ (`Vector`-based, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω).
* `LinkedList` —Ç—Ä–∞—Ç–∏—Ç –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏ –Ω–∞ —Å—Å—ã–ª–∫–∏.
* `ArrayDeque` –±—ã—Å—Ç—Ä–µ–µ, –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ, –Ω–µ –∏–º–µ–µ—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ GC.

#### Head –∏ tail

`head` –∏ `tail` ‚Äî –∫–ª—é—á–µ–≤—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (–∏–Ω–¥–µ–∫—Å—ã), –∫–æ—Ç–æ—Ä—ã–µ
—É–ø—Ä–∞–≤–ª—è—é—Ç —Ä–∞–±–æ—Ç–æ–π –∫–æ–ª—å—Ü–µ–≤–æ–≥–æ –±—É—Ñ–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ `ArrayDeque`), –ø–æ–∑–≤–æ–ª—è—è
—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å –∏ —É–¥–∞–ª—è—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –±–µ–∑ —Å–¥–≤–∏–≥–∞ –¥–∞–Ω–Ω—ã—Ö.

---

**–ß—Ç–æ —Ç–∞–∫–æ–µ `head` –∏ `tail`?**

| –£–∫–∞–∑–∞—Ç–µ–ª—å | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                                                |
|-----------|-----------------------------------------------------------|
| `head`    | –£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ **–ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç** (–æ—Ç–∫—É–¥–∞ —á–∏—Ç–∞—Ç—å / —É–¥–∞–ª—è—Ç—å) |
| `tail`    | –£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ **—Å–ª–µ–¥—É—é—â—É—é —Å–≤–æ–±–æ–¥–Ω—É—é —è—á–µ–π–∫—É** (–∫—É–¥–∞ –ø–∏—Å–∞—Ç—å) |

**–ü—Ä–∏–º–µ—Ä: –æ—á–µ—Ä–µ–¥—å —Å —Ä–∞–∑–º–µ—Ä–æ–º 5**

–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –±—É—Ñ–µ—Ä –ø—É—Å—Ç:

```
–ò–Ω–¥–µ–∫—Å—ã:   0   1   2   3   4
–ë—É—Ñ–µ—Ä:   [ - ][ - ][ - ][ - ][ - ]
           ‚Üë
         head, tail
```

**–î–æ–±–∞–≤–∏–º 3 —ç–ª–µ–º–µ–Ω—Ç–∞: A, B, C**

```
[ A ][ B ][ C ][ - ][ - ]
               ‚Üë
         head  tail
         (0)   (3)
```

* `A` –ø–∏—à–µ—Ç—Å—è –≤ `tail = 0`, –ø–æ—Ç–æ–º `tail = (0 + 1) % 5 = 1`
* `B` ‚Üí `tail = 1`, –∑–∞—Ç–µ–º ‚Üí `2`
* `C` ‚Üí `tail = 2`, –∑–∞—Ç–µ–º ‚Üí `3`

**–£–¥–∞–ª–∏–º 1 —ç–ª–µ–º–µ–Ω—Ç (`poll()`)**

```
[ - ][ B ][ C ][ - ][ - ]
      ‚Üë
    head   tail
    (1)    (3)
```

* `poll()` —á–∏—Ç–∞–µ—Ç –∏ —É–¥–∞–ª—è–µ—Ç `A` –∏–∑ `head = 0`, –∑–∞—Ç–µ–º `head = (0 + 1) % 5 = 1`

**–¶–∏–∫–ª–∏—á–Ω–æ—Å—Ç—å**

–ï—Å–ª–∏ `tail` –∏–ª–∏ `head` –¥–æ—Ö–æ–¥—è—Ç –¥–æ –∫–æ–Ω—Ü–∞ –º–∞—Å—Å–∏–≤–∞ (`capacity - 1`), –æ–Ω–∏ –ø—Ä–æ—Å—Ç–æ
**–æ–±–Ω—É–ª—è—é—Ç—Å—è**:

```java
tail =(tail +1)%capacity;
head =(head +1)%capacity;
```

**–ü—Ä–∏–º–µ—Ä –Ω–∞ Java:**

```java
int capacity = 5;
String[] buffer = new String[capacity];
int head = 0;
int tail = 0;

void offer(String val) {
    buffer[tail] = val;
    tail = (tail + 1) % capacity;
}

String poll() {
    String val = buffer[head];
    buffer[head] = null;
    head = (head + 1) % capacity;
    return val;
}
```

**–ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏?**

–ï—Å–ª–∏ `tail + 1 == head`, –±—É—Ñ–µ—Ä –∑–∞–ø–æ–ª–Ω–µ–Ω. –ù—É–∂–Ω–æ:

* –ª–∏–±–æ **—Ä–∞—Å—à–∏—Ä–∏—Ç—å –º–∞—Å—Å–∏–≤** (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–æ—Å—Ç),
* –ª–∏–±–æ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (–µ—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞).

–°—Ö–µ–º–∞, –∫–∞–∫ `head` –∏ `tail` –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –ø–æ –∫—Ä—É–≥—É –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏/—É–¥–∞–ª–µ–Ω–∏–∏

![circle_array_logic.png](/img/circle_array_logic.png)

–ù–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –ø–æ–∫–∞–∑–∞–Ω–∞ —Ä–∞–±–æ—Ç–∞ **–∫–æ–ª—å—Ü–µ–≤–æ–≥–æ –±—É—Ñ–µ—Ä–∞ (circular buffer)** ‚Äî
—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, –≤ –∫–æ—Ç–æ—Ä–æ–π —ç–ª–µ–º–µ–Ω—Ç—ã –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∏ —Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ –∫—Ä—É–≥—É.

**–û–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —Å—Ö–µ–º–µ:**

* üü¶ **–Ø—á–µ–π–∫–∏ A, B, C** ‚Äî —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã.
* ‚óªÔ∏è **–î–≤–µ –ø—É—Å—Ç—ã–µ —è—á–µ–π–∫–∏** ‚Äî —Å–≤–æ–±–æ–¥–Ω—ã–µ –º–µ—Å—Ç–∞ –¥–ª—è –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
* üîÑ **`head` (—á—ë—Ä–Ω–∞—è —Å—Ç—Ä–µ–ª–∫–∞)** ‚Äî —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç
  –ø—Ä–æ—á–∏—Ç–∞–Ω/—É–¥–∞–ª—ë–Ω —Å–ª–µ–¥—É—é—â–∏–º (`A`).
* üîÑ **`tail` (–∫—Ä–∞—Å–Ω–∞—è —Å—Ç—Ä–µ–ª–∫–∞)** ‚Äî —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –º–µ—Å—Ç–æ, –∫—É–¥–∞ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω
  —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç (–ø—É—Å—Ç–∞—è —è—á–µ–π–∫–∞ –ø–æ—Å–ª–µ `C`).

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

* –ï—Å–ª–∏ –≤—ã–∑–≤–∞—Ç—å `poll()` ‚Äî –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω `A`, –∏ `head` —Å–¥–≤–∏–Ω–µ—Ç—Å—è –Ω–∞ `B`.
* –ï—Å–ª–∏ –≤—ã–∑–≤–∞—Ç—å `offer("D")` ‚Äî –æ–Ω –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω –Ω–∞ –º–µ—Å—Ç–æ, –∫—É–¥–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç `tail`,
  –∏ `tail` —Å–¥–≤–∏–Ω–µ—Ç—Å—è –¥–∞–ª—å—à–µ.

**–ö–æ–ª—å—Ü–µ–≤–∞—è –ª–æ–≥–∏–∫–∞:**

_**–ï—Å–ª–∏ head = tail**_

–ö–æ–≥–¥–∞ `tail` –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç –∫–æ–Ω—Ü–∞ –º–∞—Å—Å–∏–≤–∞, –æ–Ω –≤–µ—Ä–Ω—ë—Ç—Å—è –≤ –Ω–∞—á–∞–ª–æ. –¢–æ –∂–µ —Å–∞–º–æ–µ —Å
`head`. –≠—Ç–æ –∏ –¥–µ–ª–∞–µ—Ç –±—É—Ñ–µ—Ä **–∫–æ–ª—å—Ü–µ–≤—ã–º**.

–ö–æ–≥–¥–∞ –≥–æ–≤–æ—Ä—è—Ç, —á—Ç–æ **`tail` –¥–æ–≥–æ–Ω—è–µ—Ç `head`** –≤ **–∫–æ–ª—å—Ü–µ–≤–æ–º –±—É—Ñ–µ—Ä–µ**, —ç—Ç–æ
–æ–∑–Ω–∞—á–∞–µ—Ç:

> `tail == head`, –∏ –±—É—Ñ–µ—Ä **–ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø–æ–ª–Ω–µ–Ω** ‚Äî –±–æ–ª—å—à–µ **–Ω–µ–ª—å–∑—è –¥–æ–±–∞–≤–ª—è—Ç—å
—ç–ª–µ–º–µ–Ω—Ç—ã**, –Ω–µ –ø–æ—Ç–µ—Ä—è–≤ –¥–∞–Ω–Ω—ã–µ.

**–ü–æ—á–µ–º—É —Ç–∞–∫?**

–í –∫–æ–ª—å—Ü–µ–≤–æ–º –±—É—Ñ–µ—Ä–µ:

* `head` —É–∫–∞–∑—ã–≤–∞–µ—Ç **–≥–¥–µ —á–∏—Ç–∞—Ç—å** (–ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç).
* `tail` —É–∫–∞–∑—ã–≤–∞–µ—Ç **–≥–¥–µ –ø–∏—Å–∞—Ç—å** (—Å–ª–µ–¥—É—é—â–∞—è —Å–≤–æ–±–æ–¥–Ω–∞—è —è—á–µ–π–∫–∞).

–ù–æ –µ—Å–ª–∏ `tail` –¥–æ—à—ë–ª –¥–æ —Ç–æ–≥–æ –∂–µ –∏–Ω–¥–µ–∫—Å–∞, –≥–¥–µ —Å—Ç–æ–∏—Ç `head` ‚Äî **–º—ã –Ω–µ –º–æ–∂–µ–º
–æ—Ç–ª–∏—á–∏—Ç—å "–ø—É—Å—Ç–æ–π –±—É—Ñ–µ—Ä" –æ—Ç "–ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ"**, –µ—Å–ª–∏ –Ω–µ —Ö—Ä–∞–Ω–∏–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é
–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑–º–µ—Ä –∏–ª–∏ —Ñ–ª–∞–≥).

**–ü—Ä–∏–º–µ—Ä (–±—É—Ñ–µ—Ä –∏–∑ 5 —è—á–µ–µ–∫):**

```
–°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ –≤—Å—Ç–∞–≤–∫–∏:
[ A ][ B ][ C ][ D ][ E ]
   ‚Üë                 ‚Üë
 head             tail

–ü–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ `F` ‚Äî tail –¥–æ–≥–æ–Ω–∏—Ç head:

[ F ][ B ][ C ][ D ][ E ]
   ‚Üë
 head, tail (–æ–±–∞ = 0) ‚Üê –∫–æ–Ω—Ñ–ª–∏–∫—Ç
```

–¢–µ–ø–µ—Ä—å `tail == head`:

* —ç—Ç–æ –º–æ–∂–µ—Ç –∑–Ω–∞—á–∏—Ç—å, —á—Ç–æ **–±—É—Ñ–µ—Ä –ø—É—Å—Ç** *(–µ—Å–ª–∏ –Ω–∏ –æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–µ—Ç)*,
* –∏–ª–∏ —á—Ç–æ **–±—É—Ñ–µ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø–æ–ª–Ω–µ–Ω** *(–µ—Å–ª–∏ –≤—Å–µ —è—á–µ–π–∫–∏ –∑–∞–Ω—è—Ç—ã)*.

**–ö–∞–∫ —Ä–µ—à–∞–µ—Ç—Å—è:**

1. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤**:

* –î–µ—Ä–∂–∏–º `capacity - 1` —è—á–µ–µ–∫ –∞–∫—Ç–∏–≤–Ω—ã–º–∏.
* –û–¥–Ω–∞ –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –ø—É—Å—Ç–æ–π –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è ¬´–ø—É—Å—Ç–æ¬ª –∏ ¬´–ø–æ–ª–Ω–æ¬ª.

2. **–•—Ä–∞–Ω–∏–º `size` –æ—Ç–¥–µ–ª—å–Ω–æ**:

* –ï—Å–ª–∏ `size == capacity` ‚Üí –±—É—Ñ–µ—Ä –ø–æ–ª–æ–Ω.
* –ï—Å–ª–∏ `size == 0` ‚Üí –±—É—Ñ–µ—Ä –ø—É—Å—Ç.

3. **–§–ª–∞–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è (`isFull`)**:

* –Ø–≤–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º, –±—ã–ª –ª–∏ `tail` –¥–æ–≥–Ω–∞–Ω `head` –ø–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏.

**–í—ã–≤–æ–¥:**

> –ö–æ–≥–¥–∞ `tail == head`, —ç—Ç–æ –∫–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç ‚Äî –±—É—Ñ–µ—Ä –ª–∏–±–æ **–ø—É—Å—Ç**, –ª–∏–±–æ *
*–ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω**. –ù—É–∂–Ω–æ –¥–æ–ø. –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, —á—Ç–æ–±—ã –æ—Ç–ª–∏—á–∏—Ç—å —ç—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è.


**_–ö–∞–∫ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –º–∞—Å—Å–∏–≤ –µ—Å–ª–∏ head = tail?_**

–ï—Å–ª–∏ –≤ **–∫–æ–ª—å—Ü–µ–≤–æ–º –±—É—Ñ–µ—Ä–µ `head == tail`** –∏ **–±—É—Ñ–µ—Ä –ø–æ–ª–æ–Ω**, —ç—Ç–æ —Å–∏–≥–Ω–∞–ª, —á—Ç–æ
–Ω—É–∂–Ω–æ **—Ä–∞—Å—à–∏—Ä–∏—Ç—å –º–∞—Å—Å–∏–≤**. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –∏
—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

**–¶–µ–ª—å:**

–°–æ–∑–¥–∞—Ç—å **–Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ –≤ 2 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ**, —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç—ã **–≤
–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ**, –∏ —Å–±—Ä–æ—Å–∏—Ç—å `head` –∏ `tail`.

**–®–∞–≥–∏ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é:**

–î–æ–ø—É—Å—Ç–∏–º:

* –°—Ç–∞—Ä—ã–π –º–∞—Å—Å–∏–≤: `oldArray` —Ä–∞–∑–º–µ—Ä–æ–º `N`
* –ù–æ–≤—ã–π –º–∞—Å—Å–∏–≤: `newArray` —Ä–∞–∑–º–µ—Ä–æ–º `2 * N`
* `head` ‚Äî –∏–Ω–¥–µ–∫—Å –Ω–∞—á–∞–ª–∞ –æ—á–µ—Ä–µ–¥–∏
* `tail` ‚Äî –∏–Ω–¥–µ–∫—Å –∫–æ–Ω—Ü–∞ (—Ä–∞–≤–µ–Ω `head`, –Ω–æ –æ—á–µ—Ä–µ–¥—å –ø–æ–ª–Ω–∞)


1. –í—ã—á–∏—Å–ª–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

```java
int size = oldArray.length;
```

–ò–ª–∏ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `count`, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –Ω–∞–ø—Ä—è–º—É—é.

2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ –ø–æ –ø–æ—Ä—è–¥–∫—É

```java
void demo() {
    Object[] newArray = new Object[2 * size];
    for (int i = 0; i < size; i++) {
        newArray[i] = oldArray[(head + i) % size];
    }
}

```

* –≠—Ç–æ –∫–æ–ø–∏—Ä—É–µ—Ç –æ—Ç `head` –¥–æ `tail`, –ø–æ –∫–æ–ª—å—Ü—É.
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `mod` (`%`) –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω–µ—Ü –º–∞—Å—Å–∏–≤–∞.


3. –û–±–Ω–æ–≤–∏—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª–∏

```java
head =0;
tail =size;
elements =newArray;
```

**–ò—Ç–æ–≥–æ:**

* –≠–ª–µ–º–µ–Ω—Ç—ã —Ç–µ–ø–µ—Ä—å –∏–¥—É—Ç —Å –ø–æ–∑–∏—Ü–∏–∏ `0` –¥–æ `size - 1` –≤ –Ω–æ–≤–æ–º –º–∞—Å—Å–∏–≤–µ.
* `head = 0` ‚Äî –Ω–∞—á–∞–ª–æ –æ—á–µ—Ä–µ–¥–∏.
* `tail = size` ‚Äî —Å–ª–µ–¥—É—é—â–µ–µ —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ.

–ì–∞—Ä–∞–Ω—Ç–∏—è:

* –ü–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–æ—Ö—Ä–∞–Ω—ë–Ω.
* –í—Å—Ç–∞–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Å–Ω–æ–≤–∞ –±—É–¥—É—Ç `O(1)`.
* –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∑–∞–Ω–∏–º–∞–µ—Ç `O(n)`, –Ω–æ **—Å–ª—É—á–∞–µ—Ç—Å—è —Ä–µ–¥–∫–æ**, –ø–æ—ç—Ç–æ–º—É **–∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è
  –≤—Å—Ç–∞–≤–∫–∞ ‚Äî –≤—Å—ë —Ä–∞–≤–Ω–æ `O(1)`**.

**–ê–≤—Ç–æ—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ**

–í–æ—Ç –ø—Ä–∏–º–µ—Ä **–ø—Ä–æ—Å—Ç–æ–≥–æ –∫–æ–ª—å—Ü–µ–≤–æ–≥–æ –±—É—Ñ–µ—Ä–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º** –Ω–∞ Java.
–û–Ω —Ä–µ–∞–ª–∏–∑—É–µ—Ç –±–∞–∑–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã: `offer()`, `poll()` –∏ `peek()`. –ü—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏
–±—É—Ñ–µ—Ä **—É–¥–≤–∞–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä**, —Å–æ—Ö—Ä–∞–Ω—è—è –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è: `CircularQueue`**

```java
public class CircularQueue<E> {
    private Object[] elements;
    private int head = 0;
    private int tail = 0;
    private int size = 0;

    public CircularQueue(int initialCapacity) {
        elements = new Object[initialCapacity];
    }

    public void offer(E e) {
        if (size == elements.length) {
            resize();
        }
        elements[tail] = e;
        tail = (tail + 1) % elements.length;
        size++;
    }

    @SuppressWarnings("unchecked")
    public E poll() {
        if (size == 0) return null;
        E value = (E) elements[head];
        elements[head] = null; // –æ—á–∏—Å—Ç–∫–∞ –¥–ª—è GC
        head = (head + 1) % elements.length;
        size--;
        return value;
    }

    @SuppressWarnings("unchecked")
    public E peek() {
        if (size == 0) return null;
        return (E) elements[head];
    }

    public int size() {
        return size;
    }

    private void resize() {
        int newCapacity = elements.length * 2;
        Object[] newElements = new Object[newCapacity];
        for (int i = 0; i < size; i++) {
            newElements[i] = elements[(head + i) % elements.length];
        }
        elements = newElements;
        head = 0;
        tail = size;
    }
}
```

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

```java
public class Main {
    public static void main(String[] args) {
        CircularQueue<String> queue = new CircularQueue<>(3);

        queue.offer("A");
        queue.offer("B");
        queue.offer("C"); // –∑–∞–ø–æ–ª–Ω—è–µ–º
        queue.offer("D"); // —Ç—Ä–∏–≥–≥–µ—Ä —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

        System.out.println(queue.poll()); // A
        System.out.println(queue.poll()); // B
        System.out.println(queue.peek()); // C
    }
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **–º–æ–¥—É–ª—å–Ω—É—é –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫—É** –¥–ª—è –∫–æ–ª—å—Ü–µ–≤–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.
* –ü—Ä–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç **–ø–æ—Ä—è–¥–æ–∫ FIFO**.
* –ü–æ–¥—Ö–æ–¥–∏—Ç –∫–∞–∫ –±–∞–∑–∞ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—á–µ—Ä–µ–¥–µ–π, —Å—Ç–µ–∫–æ–≤, –±—É—Ñ–µ—Ä–æ–≤.

–•–æ—á–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É `removeLast()` (–¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—é—é –æ—á–µ—Ä–µ–¥—å, –∫–∞–∫
`ArrayDeque`)?
----

### 3. **`PriorityQueue`**
–û—á–µ—Ä–µ–¥—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º (**PriorityQueue**) ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, –≤ –∫–æ—Ç–æ—Ä–æ–π **—ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –Ω–µ –≤ –ø–æ—Ä—è–¥–∫–µ –≤—Å—Ç–∞–≤–∫–∏**, –∞ –≤ **–ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞**. –í Java –æ–Ω–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–∞–∫ **–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –±–∏–Ω–∞—Ä–Ω–∞—è –∫—É—á–∞ (min-heap)**.

---

## üî∑ –û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ `PriorityQueue` –≤ Java

* –ù–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–∫–µ—Ç–µ `java.util`.
* –≠–ª–µ–º–µ–Ω—Ç—ã **—Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ:

  * –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É (`Comparable`), –Ω–∞–ø—Ä–∏–º–µ—Ä `Integer`, `String`
  * –∏–ª–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π `Comparator`.

---

## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

* **–í—Å—Ç–∞–≤–∫–∞** (`offer()` / `add()`) –¥–æ–±–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –≤ –∫—É—á—É –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É.
* **–£–¥–∞–ª–µ–Ω–∏–µ** (`poll()`) –≤—Å–µ–≥–¥–∞ –∏–∑–≤–ª–µ–∫–∞–µ—Ç **–Ω–∞–∏–º–µ–Ω—å—à–∏–π —ç–ª–µ–º–µ–Ω—Ç** (–ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É).
* –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ **–±–∏–Ω–∞—Ä–Ω—É—é –∫—É—á—É** ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º.

---

## ‚è±Ô∏è –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π:

| –û–ø–µ—Ä–∞—Ü–∏—è     | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
| ------------ | --------- |
| `add(e)`     | O(log n)  |
| `poll()`     | O(log n)  |
| `peek()`     | O(1)      |
| `contains()` | O(n)      |
| `remove(e)`  | O(n)      |

---

## üß™ –ü—Ä–∏–º–µ—Ä:

```java
import java.util.PriorityQueue;

public class Main {
    public static void main(String[] args) {
        PriorityQueue<Integer> pq = new PriorityQueue<>();
        pq.add(5);
        pq.add(1);
        pq.add(3);

        System.out.println(pq.poll()); // 1
        System.out.println(pq.poll()); // 3
        System.out.println(pq.poll()); // 5
    }
}
```

---

## üß≠ –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–±–∏–Ω–∞—Ä–Ω–∞—è –∫—É—á–∞):

* –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –∫–∞–∫ **–º–∞—Å—Å–∏–≤**, –≥–¥–µ:

  * –î–ª—è —É–∑–ª–∞ `i`:

    * –õ–µ–≤—ã–π –ø–æ—Ç–æ–º–æ–∫ = `2*i + 1`
    * –ü—Ä–∞–≤—ã–π –ø–æ—Ç–æ–º–æ–∫ = `2*i + 2`
    * –†–æ–¥–∏—Ç–µ–ª—å = `(i - 1) / 2`
* –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ **—Ä–æ–¥–∏—Ç–µ–ª—å < –ø–æ—Ç–æ–º–∫–æ–≤** (–≤ min-heap).

---

## üéõ –ü—Ä–∏–º–µ—Ä —Å –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–æ–º:

```java
PriorityQueue<String> pq = new PriorityQueue<>((a, b) -> b.length() - a.length());
pq.add("one");
pq.add("three");
pq.add("two");

System.out.println(pq.poll()); // "three" (–¥–ª–∏–Ω–∞ 5)
```

---

## üìå –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

* –ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –∏—Ç–µ—Ä–∞—Ü–∏–∏.
* –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∑–∞–¥–∞—á: –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ç–æ–ø K, A\* –∞–ª–≥–æ—Ä–∏—Ç–º—ã, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π.

---

–ß—Ç–æ —Ç–∞–∫–æ–µ –±–∏–Ω–∞—Ä–Ω–∞—è –∫—É—á–∞ –∏ –∫–∞–∫ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç?


### 4. **`ConcurrentLinkedQueue`**

- –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∞—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º **CAS (compare-and-swap)**.
- –•–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏.

–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: –æ–¥–Ω–æ—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫, –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.

---

### 5. **`BlockingQueue` (–∏ –µ—ë –ø–æ–¥—Ç–∏–ø—ã)** ‚Äî –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏

| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è              | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏                                   |
|-------------------------|-----------------------------------------------|
| `ArrayBlockingQueue`    | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å –Ω–∞ –º–∞—Å—Å–∏–≤–µ (FIFO)        |
| `LinkedBlockingQueue`   | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è/–Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å –Ω–∞ —Å–ø–∏—Å–∫–µ |
| `PriorityBlockingQueue` | –° –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º (–Ω–µ FIFO)                       |
| `DelayQueue`            | –û—á–µ—Ä–µ–¥—å —Å –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–π –≤—ã–¥–∞—á–µ–π                  |
| `SynchronousQueue`      | –ë–µ–∑ –±—É—Ñ–µ—Ä–∞, –ø—Ä—è–º–æ–π –æ–±–º–µ–Ω –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏       |

üîß –ò—Å–ø–æ–ª—å–∑—É—é—Ç **–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (`ReentrantLock`)** –∏–ª–∏ **—Å–µ–º–∞–Ω—Ç–∏–∫—É
–æ–∂–∏–¥–∞–Ω–∏—è (`wait/notify`)**.

---

## –í—ã–≤–æ–¥—ã –ø–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –æ—á–µ—Ä–µ–¥–µ–π –≤ Java

| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è              | –°—Ç—Ä—É–∫—Ç—É—Ä–∞          | –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ           |
|-------------------------|--------------------|--------------------|-------------------------|
| `LinkedList`            | –î–≤—É—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫  | ‚ùå                  | –ü—Ä–æ—Å—Ç—ã–µ FIFO-–æ—á–µ—Ä–µ–¥–∏    |
| `ArrayDeque`            | –ö–æ–ª—å—Ü–µ–≤–æ–π –±—É—Ñ–µ—Ä    | ‚ùå                  | –°—Ç–µ–∫ + –æ—á–µ—Ä–µ–¥—å          |
| `PriorityQueue`         | –î–≤–æ–∏—á–Ω–∞—è –∫—É—á–∞      | ‚ùå                  | –û—á–µ—Ä–µ–¥—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º   |
| `ConcurrentLinkedQueue` | –û–¥–Ω–æ—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ | ‚úÖ (–±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫) | –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏   |
| `BlockingQueue`         | –†–∞–∑–Ω—ã–µ             | ‚úÖ (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏)     | –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ |

---

## –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å

–•–æ—Ä–æ—à–æ! –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º **–≤—Ä–µ–º–µ–Ω–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π** –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤
**–æ—á–µ—Ä–µ–¥–µ–π –≤ Java**, —á—Ç–æ–±—ã –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫–∏–µ –∏–∑ –Ω–∏—Ö –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á.

---

### –¢–∞–±–ª–∏—Ü–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π

| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è              | `offer()` / `add()` | `poll()` / `remove()` | `peek()` / `element()` | –ü–æ–∏—Å–∫ / contains |
|-------------------------|---------------------|-----------------------|------------------------|------------------|
| `LinkedList`            | O(1)                | O(1)                  | O(1)                   | O(n)             |
| `ArrayDeque`            | O(1) (–∞–º–æ—Ä—Ç–∏–∑.)     | O(1) (–∞–º–æ—Ä—Ç–∏–∑.)       | O(1)                   | O(n)             |
| `PriorityQueue`         | O(log n)            | O(log n)              | O(1)                   | O(n)             |
| `ConcurrentLinkedQueue` | O(1)                | O(1)                  | O(1)                   | O(n)             |
| `ArrayBlockingQueue`    | O(1)                | O(1)                  | O(1)                   | O(n)             |
| `LinkedBlockingQueue`   | O(1)                | O(1)                  | O(1)                   | O(n)             |
| `PriorityBlockingQueue` | O(log n)            | O(log n)              | O(1)                   | O(n)             |
| `DelayQueue`            | O(log n)            | O(log n)              | O(1)                   | O(n)             |

> üîπ **O(1)** ‚Äî –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –≤—Ä–µ–º—è  
> üîπ **O(log n)** ‚Äî –∏–∑-–∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫—É—á–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `PriorityQueue`)  
> üîπ **O(n)** ‚Äî –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `contains`,
`remove(object)`)

---

### –†–∞–∑–±–æ—Ä –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º

#### 1. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ (`offer`, `add`)**

- –£ –æ–±—ã—á–Ω—ã—Ö FIFO –æ—á–µ—Ä–µ–¥–µ–π (`LinkedList`, `ArrayDeque`) ‚Äî —ç—Ç–æ O(1)
- –£ `PriorityQueue` –∏ `DelayQueue` ‚Äî O(log n), –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω—É–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –≤
  –∫—É—á—É (heap)

#### 2. **–£–¥–∞–ª–µ–Ω–∏–µ (`poll`, `remove`)**

- –£ `LinkedList`, `ArrayDeque` ‚Äî –±—ã—Å—Ç—Ä–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≥–æ–ª–æ–≤—ã: O(1)
- –£ `PriorityQueue` ‚Äî O(log n), –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å –∫—É—á—É

#### 3. **–ß—Ç–µ–Ω–∏–µ –≥–æ–ª–æ–≤—ã (`peek`, `element`)**

- –£ –≤—Å–µ—Ö ‚Äî **O(1)**, —Ç–∞–∫ –∫–∞–∫ –¥–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–≤–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ–±—Ö–æ–¥–∞

### 4. **–ü–æ–∏—Å–∫ (`contains`, —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞)**

- –í –æ–±—ã—á–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö (`LinkedList`, `ArrayDeque`, `PriorityQueue`) ‚Äî
  **O(n)**, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ—Ç –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

---

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–¥–∞—á –∏ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –æ—á–µ—Ä–µ–¥–µ–π

| –ó–∞–¥–∞—á–∞                           | –õ—É—á—à–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞                          | –ü–æ—á–µ–º—É                                                |
|----------------------------------|-------------------------------------------|-------------------------------------------------------|
| FIFO –æ—á–µ—Ä–µ–¥—å –±–µ–∑ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏ | `ArrayDeque`                              | –ë—ã—Å—Ç—Ä–µ–µ –∏ –ª–µ–≥—á–µ `LinkedList`                          |
| –û—á–µ—Ä–µ–¥—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏           | `PriorityQueue`                           | –î–æ—Å—Ç—É–ø –∫ –º–∏–Ω–∏–º—É–º—É ‚Äî O(1), –≤—Å—Ç–∞–≤–∫–∞/—É–¥–∞–ª–µ–Ω–∏–µ ‚Äî O(log n) |
| –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–∞—è –æ—á–µ—Ä–µ–¥—å            | `ConcurrentLinkedQueue` / `BlockingQueue` | –ë–µ–∑–æ–ø–∞—Å–Ω–æ –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏                              |
| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è LRU-–∫—ç—à–∞              | `LinkedHashMap` —Å –¥–æ—Å—Ç—É–ø–æ–º                | –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –¥–æ—Å—Ç—É–ø–∞                             |

---

# –°—Ç–µ–∫

–°—Ç–µ–∫ (Stack) –≤ Java ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, —Ä–∞–±–æ—Ç–∞—é—â–∞—è –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É **LIFO**:
*Last-In, First-Out* (–ø–æ—Å–ª–µ–¥–Ω–∏–π –≤–æ—à—ë–ª ‚Äî –ø–µ—Ä–≤—ã–π –≤—ã—à–µ–ª). –¢–æ –µ—Å—Ç—å, —ç–ª–µ–º–µ–Ω—Ç,
–¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ—Å–ª–µ–¥–Ω–∏–º, –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º.

---

## üì¶ –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–µ–∫

- –í—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤ (call stack)
- –û–±—Ä–∞—Ç–Ω—ã–π –æ–±—Ö–æ–¥ –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∫–æ–±–æ–∫
- –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã
- –ü–æ—Å—Ç—Ñ–∏–∫—Å–Ω–∞—è –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ (Reverse Polish Notation)

---

## üìö –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç–µ–∫–∞ –≤ Java

### 1. **–ö–ª–∞—Å—Å `Stack<E>`**

–ù–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–∫–µ—Ç–µ `java.util`, —É—Å—Ç–∞—Ä–µ–≤—à–∏–π, –Ω–æ –≤—Å—ë –µ—â—ë –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π.

```java
Stack<Integer> stack = new Stack<>();
stack.

push(10);            // –¥–æ–±–∞–≤–∏—Ç—å
stack.

push(20);
System.out.

println(stack.pop());  // 20
        System.out.

println(stack.peek()); // 10 (–Ω–æ –Ω–µ —É–¥–∞–ª—è–µ—Ç)
```

| –ú–µ—Ç–æ–¥       | –û–ø–∏—Å–∞–Ω–∏–µ                                |
|-------------|-----------------------------------------|
| `push(e)`   | –î–æ–±–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç                       |
| `pop()`     | –£–¥–∞–ª—è–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–µ—Ä—Ö–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç    |
| `peek()`    | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–µ—Ä—Ö–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è |
| `isEmpty()` | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –ø—É—Å—Ç –ª–∏ —Å—Ç–µ–∫                 |

---

### 2. **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±: `Deque` –∫–∞–∫ —Å—Ç–µ–∫**

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ `Stack` ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ArrayDeque` –∏–ª–∏ `LinkedList` —Å
–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º `Deque` (–¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –æ—á–µ—Ä–µ–¥—å).

```java
Deque<Integer> stack = new ArrayDeque<>();
stack.

push(1);
stack.

push(2);
System.out.

println(stack.pop()); // 2
```

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

- –ë—ã—Å—Ç—Ä–µ–µ, —á–µ–º `Stack`, —Ç–∞–∫ –∫–∞–∫ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω
- –ü—Ä–æ—Å—Ç –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏

---

## ‚è± –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å

| –û–ø–µ—Ä–∞—Ü–∏—è | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|----------|-----------|
| `push()` | O(1)      |
| `pop()`  | O(1)      |
| `peek()` | O(1)      |

---

## ‚ö†Ô∏è –ü–æ—á–µ–º—É `Stack` —É—Å—Ç–∞—Ä–µ–ª?

- `Stack` —Ä–∞—Å—à–∏—Ä—è–µ—Ç `Vector`, –∫–æ—Ç–æ—Ä—ã–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—Ç—è–∂–µ–ª–æ–≤–µ—Å–µ–Ω)
- –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **`Deque` —á–µ—Ä–µ–∑ `ArrayDeque`** ‚Äî –æ–Ω –±—ã—Å—Ç—Ä–µ–µ –∏
  –ø—Ä–æ—â–µ

---

## üß™ –ü—Ä–∏–º–µ—Ä: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ —Å–∫–æ–±–æ–∫

```java
public boolean isValid(String s) {
    Deque<Character> stack = new ArrayDeque<>();
    for (char c : s.toCharArray()) {
        if (c == '(') stack.push(')');
        else if (c == '[') stack.push(']');
        else if (c == '{') stack.push('}');
        else if (stack.isEmpty() || stack.pop() != c) return false;
    }
    return stack.isEmpty();
}
```

---

## üß† –ò—Ç–æ–≥

| –°–≤–æ–π—Å—Ç–≤–æ           | `Stack`       | `Deque` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) |
|--------------------|---------------|-------------------------|
| –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | –î–∞ (`Vector`) | –ù–µ—Ç (–º–æ–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å)    |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –ù–∏–∑–∫–∞—è        | –í—ã—Å–æ–∫–∞—è                 |
| –ì–∏–±–∫–æ—Å—Ç—å           | –¢–æ–ª—å–∫–æ —Å—Ç–µ–∫   | –°—Ç–µ–∫ –∏ –æ—á–µ—Ä–µ–¥—å          |

---

–•–æ—á–µ—à—å, —á—Ç–æ–±—ã —è –ø–æ–∫–∞–∑–∞–ª, –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç–µ–∫ –≤—Ä—É—á–Ω—É—é (—Å –Ω—É–ª—è) –Ω–∞ –º–∞—Å—Å–∏–≤–µ –∏–ª–∏
—Å–≤—è–∑–Ω–æ–º —Å–ø–∏—Å–∫–µ?

## –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

–û—Ç–ª–∏—á–Ω–æ! –ù–∏–∂–µ –ø–æ–∫–∞–∂—É, **–∫–∞–∫ –≤—Ä—É—á–Ω—É—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç–µ–∫** –≤ Java –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:

1. ‚úÖ –ù–∞ **–º–∞—Å—Å–∏–≤–µ**
2. ‚úÖ –ù–∞ **–æ–¥–Ω–æ—Å–≤—è–∑–Ω–æ–º —Å–ø–∏—Å–∫–µ**

---

## üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–µ–∫–∞ –Ω–∞ **–º–∞—Å—Å–∏–≤–µ**

```java
public class ArrayStack<T> {
    private T[] data;
    private int top; // –∏–Ω–¥–µ–∫—Å —Å–ª–µ–¥—É—é—â–µ–π –ø—É—Å—Ç–æ–π —è—á–µ–π–∫–∏

    @SuppressWarnings("unchecked")
    public ArrayStack(int capacity) {
        data = (T[]) new Object[capacity];
        top = 0;
    }

    public void push(T value) {
        if (top == data.length) throw new RuntimeException("Stack overflow");
        data[top++] = value;
    }

    public T pop() {
        if (isEmpty()) throw new RuntimeException("Stack underflow");
        return data[--top];
    }

    public T peek() {
        if (isEmpty()) throw new RuntimeException("Empty stack");
        return data[top - 1];
    }

    public boolean isEmpty() {
        return top == 0;
    }

    public int size() {
        return top;
    }
}
```

### ‚úÖ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```java
public class Main {
    public static void main(String[] args) {
        ArrayStack<Integer> stack = new ArrayStack<>(5);

        stack.push(10);
        stack.push(20);
        System.out.println(stack.pop()); // 20
        System.out.println(stack.peek()); // 10
    }
}
```

---

## üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–µ–∫–∞ –Ω–∞ **—Å–≤—è–∑–∞–Ω–Ω–æ–º —Å–ø–∏—Å–∫–µ**

```java
public class LinkedStack<T> {
    private class Node {
        T value;
        Node next;

        Node(T value, Node next) {
            this.value = value;
            this.next = next;
        }
    }

    private Node top = null;
    private int size = 0;

    public void push(T value) {
        top = new Node(value, top);
        size++;
    }

    public T pop() {
        if (isEmpty()) throw new RuntimeException("Stack underflow");
        T val = top.value;
        top = top.next;
        size--;
        return val;
    }

    public T peek() {
        if (isEmpty()) throw new RuntimeException("Empty stack");
        return top.value;
    }

    public boolean isEmpty() {
        return top == null;
    }

    public int size() {
        return size;
    }
}
```

### ‚úÖ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```java
public class Main {
    public static void main(String[] args) {
        LinkedStack<String> stack = new LinkedStack<>();

        stack.push("A");
        stack.push("B");
        System.out.println(stack.pop());  // B
        System.out.println(stack.peek()); // A
    }
}
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π

| –ö—Ä–∏—Ç–µ—Ä–∏–π         | –ú–∞—Å—Å–∏–≤ (`ArrayStack`)     | –°–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ (`LinkedStack`) |
|------------------|---------------------------|--------------------------------|
| –†–∞–∑–º–µ—Ä           | –û–≥—Ä–∞–Ω–∏—á–µ–Ω (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π) | –ì–∏–±–∫–∏–π, —Ä–∞—Å—Ç—ë—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏     |
| –°–∫–æ—Ä–æ—Å—Ç—å         | –ë—ã—Å—Ç—Ä–µ–µ (–±–µ–∑ –∞–ª–ª–æ–∫–∞—Ü–∏–∏)   | –ú–µ–¥–ª–µ–Ω–Ω–µ–µ (–∏–∑-–∑–∞ `new Node`)   |
| –ü–∞–º—è—Ç—å           | –ó–∞—Ä–∞–Ω–µ–µ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è        | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏  |
| –£–¥–∞–ª–µ–Ω–∏–µ/–≤—Å—Ç–∞–≤–∫–∞ | O(1)                      | O(1)                           |

---

## –í–†–ï–ú–ï–ù–ù–ê–Ø –°–õ–û–ñ–ù–û–°–¢–¨

–í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π —Å–æ —Å—Ç–µ–∫–æ–º –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–∞, —Ç–∞–∫ –∫–∞–∫ —Å—Ç–µ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ
–ø—Ä–∏–Ω—Ü–∏–ø—É **LIFO (Last-In, First-Out)**. –î–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å–æ —Å—Ç–µ–∫–æ–º
–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Å–ª–µ–¥—É—é—â–∞—è:

| –û–ø–µ—Ä–∞—Ü–∏—è    | –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å |
|-------------|---------------------|
| `push()`    | O(1)                |
| `pop()`     | O(1)                |
| `peek()`    | O(1)                |
| `isEmpty()` | O(1)                |
| `size()`    | O(1)                |

---

### –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

1. **`push(T value)`** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ —Å—Ç–µ–∫:

- –í—Å—Ç–∞–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–∞ –≤–µ—Ä—à–∏–Ω—É —Å—Ç–µ–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞ **O(1)**, —Ç–∞–∫ –∫–∞–∫ –º—ã –ø—Ä–æ—Å—Ç–æ
  –¥–æ–±–∞–≤–ª—è–µ–º –µ–≥–æ –≤ –∫–æ–Ω–µ—Ü (–∏–ª–∏ –≤ –Ω–∞—á–∞–ª–æ —Å–ø–∏—Å–∫–∞).

2. **`pop()`** ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å –≤–µ—Ä—à–∏–Ω—ã —Å—Ç–µ–∫–∞:

- –£–¥–∞–ª–µ–Ω–∏–µ –≤–µ—Ä—Ö–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å—Ç–µ–∫–∞ —Ç–∞–∫–∂–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞ **O(1)**, —Ç–∞–∫ –∫–∞–∫ –º—ã
  –ø—Ä–æ—Å—Ç–æ –∏–∑–≤–ª–µ–∫–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –≤–µ—Ä—à–∏–Ω—ã —Å—Ç–µ–∫–∞ –∏ —Å–º–µ—â–∞–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π
  —ç–ª–µ–º–µ–Ω—Ç.

3. **`peek()`** ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å –≤–µ—Ä—à–∏–Ω—ã —Å—Ç–µ–∫–∞:

- –í–∑—è—Ç–∏–µ –≤–µ—Ä—Ö–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –±–µ–∑ –µ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞ **O(1)**, —Ç–∞–∫ –∫–∞–∫
  –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—à–∏–Ω—ã.

4. **`isEmpty()`** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç–æ—Ç—É:

- –ü—Ä–æ–≤–µ—Ä–∫–∞, –ø—É—Å—Ç –ª–∏ —Å—Ç–µ–∫ (–ø–æ –∏–Ω–¥–µ–∫—Å—É –∏–ª–∏ —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –≤–µ—Ä—Ö–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç),
  —Ç–∞–∫–∂–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞ **O(1)**.

5. **`size()`** ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–µ–∫–∞:

- –ï—Å–ª–∏ —Ä–∞–∑–º–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, —Ç–æ –æ–ø–µ—Ä–∞—Ü–∏—è
  –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞ **O(1)**.

---

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å—Ç–µ–∫–∞ ‚Äî —ç—Ç–æ **O(1)**.

---

–•–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å, –∫–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏ –¥—Ä—É–≥–∏—Ö –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏,
–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ –º–∞—Å—Å–∏–≤–∞ –≤ —Å—Ç–µ–∫–µ?