# Self-injection

**Self-Injection** –≤ Spring ‚Äî —ç—Ç–æ –ø—Ä–∞–∫—Ç–∏–∫–∞, –∫–æ–≥–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä,
Spring-–±–∏–Ω) –≤–Ω–µ–¥—Ä—è–µ—Ç (–∏–Ω–∂–µ–∫—Ç–∏—Ç) —Å–∞–º —Å–µ–±—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Spring.
–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø—Ä–æ—Å—Ç–æ –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ –Ω–∞–ø—Ä—è–º—É—é, –∫–ª–∞—Å—Å –ø–æ–ª—É—á–∞–µ—Ç
—Å—Å—ã–ª–∫—É –Ω–∞ —Å–∞–º–æ–≥–æ —Å–µ–±—è –∏–∑ Spring-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã —á–µ—Ä–µ–∑ —ç—Ç—É —Å—Å—ã–ª–∫—É.

## –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ ‚Äî **–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –∞—Å–ø–µ–∫—Ç–æ–≤ (AOP), –ø—Ä–æ–∫—Å–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**.

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –º–µ—Ç–æ–¥ —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Transactional`, –∏ –≤—ã –≤—ã–∑—ã–≤–∞–µ—Ç–µ
—ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –∏–∑ –¥—Ä—É–≥–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Ç–æ–≥–æ –∂–µ –∫–ª–∞—Å—Å–∞ –Ω–∞–ø—Ä—è–º—É—é (
`this.someTransactionalMethod()`), —Ç–æ Spring **–Ω–µ –ø—Ä–∏–º–µ–Ω–∏—Ç –ø—Ä–æ–∫—Å–∏ –∏ –Ω–µ —Å–æ–∑–¥–∞—Å—Ç
—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é**, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—ã–∑–æ–≤ –∏–¥—ë—Ç –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.

–ï—Å–ª–∏ –∂–µ –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏ (—á–µ—Ä–µ–∑ self injection), —Ç–æ –∞—Å–ø–µ–∫—Ç—ã —Å—Ä–∞–±–æ—Ç–∞—é—Ç
–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

## –ü—Ä–∏–º–µ—Ä self injection

```java

@Component
public class MyService {

    @Autowired
    private MyService self;  // self injection

    public void methodA() {
        // –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
        self.methodB();
    }

    @Transactional
    public void methodB() {
        // –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    }
}
```

–ó–¥–µ—Å—å –≤—ã–∑–æ–≤ `self.methodB()` –ø—Ä–æ–π–¥–µ—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏ Spring, –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –±—É–¥–µ—Ç
—Å–æ–∑–¥–∞–Ω–∞. –ï—Å–ª–∏ –±—ã –≤—ã–∑–≤–∞–ª–∏ `this.methodB()`, —Ç–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Transactional` –Ω–µ
—Å—Ä–∞–±–æ—Ç–∞–ª–∞ –±—ã.

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?

Spring —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç –¥–ª—è –±–∏–Ω–∞ –∏ –≤–Ω–µ–¥—Ä—è–µ—Ç –µ–≥–æ –≤ –ø–æ–ª–µ `self`. –¢–∞–∫–∏–º
–æ–±—Ä–∞–∑–æ–º, –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–æ–≤ —á–µ—Ä–µ–∑ `self` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å
–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –∞—Å–ø–µ–∫—Ç–æ–≤.

#### –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

- Self injection –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º, –µ—Å–ª–∏ –Ω–µ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ
  –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ApplicationContext` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–∏–Ω–∞ –∏–ª–∏
  —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –∫–æ–¥ —Ç–∞–∫, —á—Ç–æ–±—ã –º–µ—Ç–æ–¥—ã —Å –∞—Å–ø–µ–∫—Ç–∞–º–∏ –≤—ã–∑—ã–≤–∞–ª–∏—Å—å –∏–∑–≤–Ω–µ.
- –í Spring 5+ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@Lazy` –ø—Ä–∏ –∏–Ω–∂–µ–∫—Ü–∏–∏ —Å–∞–º–æ–≥–æ —Å–µ–±—è,
  —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:

```java

@Autowired
@Lazy
private MyService self;
```

#### –ö—Ä–∞—Ç–∫–æ

**Self Injection** ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –±–∏–Ω –≤–Ω–µ–¥—Ä—è–µ—Ç —Å–∞–º —Å–µ–±—è –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ Spring –¥–ª—è
—Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤ –ø—Ä–æ—Ö–æ–¥–∏–ª–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
—Ä–∞–±–æ—Ç–∞–ª–∏ —Ç–∞–∫–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –∫–∞–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ AOP.

====


**Self Injection** –≤ **Spring Framework** ‚Äî —ç—Ç–æ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π **–æ–±—ä–µ–∫—Ç
—Å–∞–º —Å–µ–±–µ –∏–Ω–∂–µ–∫—Ç–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** —á–µ—Ä–µ–∑ –º–µ—Ö–∞–Ω–∏–∑–º—ã Spring DI (Dependency
Injection). –û–±—ã—á–Ω–æ —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Å –ø–æ–º–æ—â—å—é **–∞–Ω–Ω–æ—Ç–∞—Ü–∏–π**, —Ç–∞–∫–∏—Ö –∫–∞–∫
`@Autowired`, –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è** –≤ —Å–∞–º —Å–µ–±—è –∫–∞–∫
–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å.

### üìå –ß—Ç–æ —Ç–∞–∫–æ–µ –∏–Ω—ä–µ–∫—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ Spring?

**–ò–Ω—ä–µ–∫—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DI)** ‚Äî —ç—Ç–æ –ø—Ä–∏–Ω—Ü–∏–ø, —Å–æ–≥–ª–∞—Å–Ω–æ –∫–æ—Ç–æ—Ä–æ–º—É –æ–±—ä–µ–∫—Ç—ã –Ω–µ
—Å–æ–∑–¥–∞—é—Ç —Å–≤–æ–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –∞ –ø–æ–ª—É—á–∞—é—Ç –∏—Ö –∏–∑–≤–Ω–µ (—á–µ—Ä–µ–∑
–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã, –º–µ—Ç–æ–¥—ã –∏–ª–∏ –ø–æ–ª—è). Spring –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º —á–µ—Ä–µ–∑
–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.

### üîÑ Self Injection: –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –∏–Ω–∂–µ–∫—Ç–∏—Ç —Å–∞–º —Å–µ–±—è

**Self Injection** –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (bean) Spring –∏–Ω–∂–µ–∫—Ç–∏—Ç **—Å–∞–º —Å–µ–±—è
** –≤ —Å–≤–æ—ë–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö,
–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ç–µ–∫—É—â–µ–º—É —ç–∫–∑–µ–º–ø–ª—è—Ä—É –∫–ª–∞—Å—Å–∞ –≤ —Å–∞–º–æ–º
–∫–ª–∞—Å—Å–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∫–∞–∫–∏–µ-—Ç–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –∏–ª–∏ –¥–ª—è
–º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

### üßë‚Äçüíª –ü—Ä–∏–º–µ—Ä Self Injection –≤ Spring

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–∞–º —Å–µ–±–µ –∏–Ω–∂–µ–∫—Ç–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Å
–ø–æ–º–æ—â—å—é `@Autowired`.

1. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å Self Injection**:

```java
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class SelfInjectingComponent {

    private SelfInjectingComponent self;

    // Self Injection —á–µ—Ä–µ–∑ setter –º–µ—Ç–æ–¥
    @Autowired
    public void setSelf(SelfInjectingComponent self) {
        this.self = self;
    }

    public void printSelf() {
        System.out.println(self);
    }
}
```

- –í –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –∫–ª–∞—Å—Å `SelfInjectingComponent` –ø–æ–ª—É—á–∞–µ—Ç —Å–∞–º —Å–µ–±—è —á–µ—Ä–µ–∑ *
  *setter** –º–µ—Ç–æ–¥, –ø–æ–º–µ—á–µ–Ω–Ω—ã–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Autowired`. –≠—Ç–æ –∏ –µ—Å—Ç—å **Self
  Injection**.

2. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Spring**:

```java
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;

@Configuration
@ComponentScan(basePackages = "com.example")
public class AppConfig {
    // –ú–æ–∂–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∏–Ω—ã
}
```

3. **–ó–∞–ø—É—Å–∫ Spring –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**:

```java
import org.springframework.context.ApplicationContext;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;

public class Main {
    public static void main(String[] args) {
        ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);
        SelfInjectingComponent component = context.getBean(SelfInjectingComponent.class);
        component.printSelf(); // –í—ã–≤–µ–¥–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Å–∞–º –æ–±—ä–µ–∫—Ç
    }
}
```

### üîç –í —á–µ–º —Å–º—ã—Å–ª Self Injection?

**Self Injection** –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–µ–Ω –≤ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä:

- **–î–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è**: –∫–æ–≥–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–∞–º —Å–µ–±–µ –∏–Ω–∂–µ–∫—Ç–∏—Ä—É–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è
  —Ä–∞–±–æ—Ç—ã —Å –∫—ç—à–æ–º.
- **–î–ª—è —Ä–µ–∫—É—Ä—Å–∏–∏**: –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ø–æ—Å–æ–±–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å–∞–º —Å —Å–æ–±–æ–π –≤
  —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö.
- **–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: —Ö–æ—Ç—è Spring –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ
  –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –±—ã–≤–∞—é—Ç —Å–ª—É—á–∞–∏, –∫–æ–≥–¥–∞ —Ç–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è.

–û–¥–Ω–∞–∫–æ —Å—Ç–æ–∏—Ç –ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **Self Injection** ‚Äî —ç—Ç–æ –¥–æ–≤–æ–ª—å–Ω–æ —Ä–µ–¥–∫–∞—è
–ø—Ä–∞–∫—Ç–∏–∫–∞, –∫–æ—Ç–æ—Ä–∞—è —á–∞—â–µ –≤—Å–µ–≥–æ –º–æ–∂–µ—Ç —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ —Ç–æ–º, —á—Ç–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ **—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ**. –í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤, **–∏–Ω–∂–µ–∫—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ **–≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**, –∞ –Ω–µ –∏–Ω—ä–µ–∫—Ü–∏—é
—Å–∞–º–æ–≥–æ —Å–µ–±—è.

---

### üß© –ü—Ä–æ–±–ª–µ–º—ã —Å Self Injection

1. **–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:

- –ï—Å–ª–∏ –≤ –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–Ω–∂–µ–∫—Ç—è—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ (—Ü–∏–∫–ª–∏—á–µ—Å–∫–∞—è
  –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å), —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é. Spring —Å–º–æ–∂–µ—Ç
  —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ **–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–Ω–æ–π
  –∏–Ω—ä–µ–∫—Ü–∏–∏** –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è.
- –û–¥–Ω–∞–∫–æ, **self-injection** –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ç–∏–ø–∏—á–Ω–æ–π –ø—Ä–∏—á–∏–Ω–æ–π —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö
  –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, —Ö–æ—Ç—è —Ç–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –º–æ–∂–µ—Ç –±—ã—Ç—å —á–∞—Å—Ç—å—é –æ–±—â–µ–π –ø—Ä–æ–±–ª–µ–º—ã —Å
  –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.

2. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**:

- –ß–∞—Å—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Self Injection –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å –¥–∏–∑–∞–π–Ω–æ–º
  –∫–ª–∞—Å—Å–∞ –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –õ—É—á—à–µ –ø–æ–¥—É–º–∞—Ç—å, –Ω–µ –Ω—É–∂–Ω–æ –ª–∏ **–ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
  **, –µ—Å–ª–∏ —Ç–∞–∫–æ–π –º–µ—Ö–∞–Ω–∏–∑–º —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

---

### üß† –ö–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Self Injection?

- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –±–∏–Ω**: –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω–∂–µ–∫—Ç–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ **—Ç–æ–ª—å–∫–æ
  —á–µ—Ä–µ–∑ Spring** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Spring).
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö Self Injection –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ **—Ç–µ—Å—Ç–æ–≤—ã—Ö
  –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö**, –∫–æ–≥–¥–∞ –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–Ω–∂–µ–∫—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å, –∞ —Å–∞–º –æ–±—ä–µ–∫—Ç
  –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö.

---

## üí° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã Self Injection

–ß–∞—Å—Ç–æ –º–æ–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å Self Injection, –∏—Å–ø–æ–ª—å–∑—É—è –¥—Ä—É–≥–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –∏–Ω—ä–µ–∫—Ü–∏–∏
–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

1. **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–Ω–∞—è –∏–Ω—ä–µ–∫—Ü–∏—è**:
   –õ—É—á—à–µ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–Ω—É—é –∏–Ω—ä–µ–∫—Ü–∏—é** –¥–ª—è —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è
   –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, —á—Ç–æ –æ–±–ª–µ–≥—á–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –∫–æ–¥–∞. –ù–∞–ø—Ä–∏–º–µ—Ä:

```java

@Component
public class SomeComponent {

    private final AnotherComponent anotherComponent;

    @Autowired
    public SomeComponent(AnotherComponent anotherComponent) {
        this.anotherComponent = anotherComponent;
    }
}
```

2. **–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –¥—Ä—É–≥–∏–µ –±–∏–Ω—ã**:
   –ò–Ω–æ–≥–¥–∞ –ª—É—á—à–µ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –¥—Ä—É–≥–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º, –∞ –Ω–µ –∏–Ω–∂–µ–∫—Ç–∏—Ç—å —Å–∞–º —Å–µ–±—è.
   –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å —á—Ä–µ–∑–º–µ—Ä–Ω–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∞–º–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

---

### ü§î –†–µ–∑—é–º–µ:

- **Self Injection** ‚Äî —ç—Ç–æ —Ä–µ–¥–∫–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–Ω–∂–µ–∫—Ç–∏—Ä—É–µ—Ç
  —Å–∞–º —Å–µ–±—è.
- –≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–µ–Ω –≤ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö, –Ω–æ —á–∞—Å—Ç–æ –æ–Ω —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞
  –ø—Ä–æ–±–ª–µ–º—ã —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.
- –û–±—ã—á–Ω–æ **self-injection** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `@Autowired` –Ω–∞ –ø–æ–ª—è—Ö, –º–µ—Ç–æ–¥–∞—Ö
  –∏–ª–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞—Ö, –Ω–æ —á–∞—Å—Ç–æ —Ç–∞–∫–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –º–æ–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –¥—Ä—É–≥–∏—Ö
  –º–µ—Ç–æ–¥–æ–≤ DI.
- –õ—É—á—à–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–Ω—É—é –∏–Ω—ä–µ–∫—Ü–∏—é** –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
  –∏ –ª—ë–≥–∫–æ—Å—Ç–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

=====

### self-injection

**Self-injection** (–∏–ª–∏ —Å–∞–º–æ–ø—Ä–æ–µ—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ) –≤ Spring ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º
–±–∏–Ω –≤–Ω–µ–¥—Ä—è–µ—Ç —Å–∞–º–æ–≥–æ —Å–µ–±—è —á–µ—Ä–µ–∑ `@Autowired` (–∏–ª–∏ –¥—Ä—É–≥–æ–π –º–µ—Ö–∞–Ω–∏–∑–º –≤–Ω–µ–¥—Ä–µ–Ω–∏—è
–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π) –¥–ª—è –≤—ã–∑–æ–≤–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç. –≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥
–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —á—Ç–æ–±—ã –æ–±–æ–π—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Spring, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º AOP (
–∞—Å–ø–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è), –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π
`@Transactional`, –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è, —á—Ç–æ–±—ã –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–ª—Å—è —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏ –¥–ª—è
–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.

### –ó–∞—á–µ–º –Ω—É–∂–µ–Ω self-injection?

–í Spring –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ `@Transactional`, `@Async`, –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã,
—Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ **–ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç—ã**, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç—Å—è Spring –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
–ø–æ–≤–µ–¥–µ–Ω–∏–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏). –û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ –º–µ—Ç–æ–¥, –ø–æ–º–µ—á–µ–Ω–Ω—ã–π —Ç–∞–∫–æ–π
–∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è **–≤–Ω—É—Ç—Ä–∏ —Ç–æ–≥–æ –∂–µ –∫–ª–∞—Å—Å–∞** (—á–µ—Ä–µ–∑ `this.method()`), –≤—ã–∑–æ–≤
**–Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏**, –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `@Transactional`) –Ω–µ
—Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç. Self-injection —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É, –ø–æ–∑–≤–æ–ª—è—è –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥ —á–µ—Ä–µ–∑
–ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∏–Ω.

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç self-injection?

1. –ë–∏–Ω –≤–Ω–µ–¥—Ä—è–µ—Ç —Å–∞–º–æ–≥–æ —Å–µ–±—è –∫–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Å –ø–æ–º–æ—â—å—é `@Autowired`, `@Resource`
   –∏–ª–∏ –¥—Ä—É–≥–æ–≥–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞.
2. –í–º–µ—Å—Ç–æ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ —á–µ—Ä–µ–∑ `this`, –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –≤–Ω–µ–¥—Ä—ë–Ω–Ω—ã–π
   –ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç.
3. –ü—Ä–æ–∫—Å–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—ã–∑–æ–≤ –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É, —Å–≤—è–∑–∞–Ω–Ω—É—é —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ (
   –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–∑–¥–∞—ë—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é).

### –ü—Ä–∏–º–µ—Ä self-injection —Å `@Transactional`

```java

@Service
public class UserService {

    @Autowired
    private UserService self; // Self-injection: –≤–Ω–µ–¥—Ä—è–µ–º —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –±–∏–Ω
    @Autowired
    private UserRepository userRepository;

    public void createUser(String username) {
        self.saveUser(username); // –í—ã–∑–æ–≤ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏, –∞ –Ω–µ —á–µ—Ä–µ–∑ this
    }

    @Transactional
    public void saveUser(String username) {
        userRepository.save(new User(username)); // –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
    }
}
```

- –í –º–µ—Ç–æ–¥–µ `createUser` –≤—ã–∑–æ–≤ `self.saveUser(username)` –∏–¥—ë—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç
  `UserService`, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç Spring –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É `@Transactional`.
- –ë–µ–∑ self-injection –≤—ã–∑–æ–≤ `this.saveUser(username)` –æ–±–æ—à—ë–ª –±—ã –ø—Ä–æ–∫—Å–∏, –∏
  —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –±—ã–ª–∞ –±—ã —Å–æ–∑–¥–∞–Ω–∞.

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å self-injection?

- **–î–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π AOP**: –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –º–µ—Ç–æ–¥—ã, –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ
  `@Transactional`, `@Async`, –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –∞—Å–ø–µ–∫—Ç–∞–º–∏, –≤—ã–∑—ã–≤–∞–ª–∏—Å—å —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
  –≤–Ω—É—Ç—Ä–∏ —Ç–æ–≥–æ –∂–µ –∫–ª–∞—Å—Å–∞.
- **–î–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –≤—ã–¥–µ–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–∏–Ω**: Self-injection –ø–æ–∑–≤–æ–ª—è–µ—Ç
  —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–≤—è–∑–∞–Ω–Ω—É—é –ª–æ–≥–∏–∫—É –≤ –æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ, –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.
- **–î–ª—è —Å–ª–æ–∂–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏**: –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –æ–¥–∏–Ω –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω
  –≤—ã–∑—ã–≤–∞—Ç—å –¥—Ä—É–≥–æ–π —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä,
  `Propagation.REQUIRES_NEW`).

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã self-injection

1. **–í—ã–¥–µ–ª–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–∏–Ω**:
   ```java
   @Service
   public class UserService {
       @Autowired
       private TransactionalService transactionalService;

       public void createUser(String username) {
           transactionalService.saveUser(username); // –í—ã–∑–æ–≤ —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π –±–∏–Ω
       }
   }

   @Service
   public class TransactionalService {
       @Autowired
       private UserRepository userRepository;

       @Transactional
       public void saveUser(String username) {
           userRepository.save(new User(username));
       }
   }
   ```

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AspectJ**:
    - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Spring –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è AspectJ –≤–º–µ—Å—Ç–æ –ø—Ä–æ–∫—Å–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç
      –ø—Ä–∏–º–µ–Ω—è—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –¥–∞–∂–µ –ø—Ä–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –≤—ã–∑–æ–≤–∞—Ö. –≠—Ç–æ —Ç—Ä–µ–±—É–µ—Ç
      –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `spring-aspects` –∏
      AspectJ Weaver).

3. **–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏**:
    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `TransactionTemplate` –≤–º–µ—Å—Ç–æ `@Transactional` –ø–æ–∑–≤–æ–ª—è–µ—Ç —è–≤–Ω–æ
      —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏, –∏–∑–±–µ–≥–∞—è –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–æ–∫—Å–∏.
   ```java
   @Service
   public class UserService {
       @Autowired
       private UserRepository userRepository;
       @Autowired
       private TransactionTemplate transactionTemplate;

       public void createUser(String username) {
           transactionTemplate.execute(status -> {
               userRepository.save(new User(username));
               return null;
           });
       }
   }
   ```

### –ü—Ä–æ–±–ª–µ–º—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è self-injection

- **–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
    - Spring –º–æ–∂–µ—Ç –≤—ã–¥–∞—Ç—å –æ—à–∏–±–∫—É —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –µ—Å–ª–∏ –±–∏–Ω –∑–∞–≤–∏—Å–∏—Ç –æ—Ç
      —Å–∞–º–æ–≥–æ —Å–µ–±—è. –≠—Ç–æ –º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏, –∏—Å–ø–æ–ª—å–∑—É—è `@Lazy`:
      ```java
      @Autowired
      @Lazy
      private UserService self;
      ```
    - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@Resource` –≤–º–µ—Å—Ç–æ `@Autowired`, —Ç–∞–∫ –∫–∞–∫ `@Resource`
      —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —É–∂–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–º –±–∏–Ω–æ–º.

- **–£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –∫–æ–¥–∞**:
    - Self-injection –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ –º–µ–Ω–µ–µ —á–∏—Ç–∞–µ–º—ã–º, —Ç–∞–∫ –∫–∞–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç
      –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –Ω–∞ —Å–∞–º–æ–≥–æ —Å–µ–±—è.

- **–ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω**:
    - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å—á–∏—Ç–∞—é—Ç self-injection –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω–æ–º, —Ç–∞–∫ –∫–∞–∫ –æ–Ω
      –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –ø–ª–æ—Ö—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É. –í –∏–¥–µ–∞–ª–µ, –ª–æ–≥–∏–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å
      —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ —Ä–∞–∑–Ω—ã–µ –±–∏–Ω—ã, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ self-injection.

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–î–ª—è —Ä–∞–±–æ—Ç—ã self-injection –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Spring —Å
–≤–∫–ª—é—á—ë–Ω–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π:

```java

@Configuration
@EnableTransactionManagement
public class AppConfig {
    @Bean
    public PlatformTransactionManager transactionManager(EntityManagerFactory emf) {
        return new JpaTransactionManager(emf);
    }
}
```

### –ò—Ç–æ–≥

Self-injection ‚Äî —ç—Ç–æ —Ç–µ—Ö–Ω–∏–∫–∞ –≤ Spring, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã,
–ø–æ–º–µ—á–µ–Ω–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ –≤—Ä–æ–¥–µ `@Transactional`, —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç –≤–Ω—É—Ç—Ä–∏ —Ç–æ–≥–æ
–∂–µ –∫–ª–∞—Å—Å–∞. –û–Ω–∞ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –æ–±—Ö–æ–¥–∞ –ø—Ä–æ–∫—Å–∏ –ø—Ä–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –≤—ã–∑–æ–≤–∞—Ö, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç
–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏ –∏–∑-–∑–∞ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —É—Å–ª–æ–∂–Ω–µ–Ω–∏—è –∫–æ–¥–∞.
–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–∏–Ω –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
`TransactionTemplate`, –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

